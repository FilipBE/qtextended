<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Build system changes for 4.3&#x2e;1</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="../index.html"><font color="#004faf">Qt Extended Home</font></a>&nbsp;&middot; <a href="index.html"><font color="#004faf">Build System Home</font></a>&nbsp;&middot; <a href="reference.html"><font color="#004faf">Reference</font></a>&nbsp;&middot; <a href="userguide.html"><font color="#004faf">User Guide</font></a>&nbsp;&middot; <a href="internals.html"><font color="#004faf">Internals</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">Build system changes for 4.3&#x2e;1<br /><span class="subtitle"></span>
</h1>
<a name="overview"></a>
<h3>Overview</h3>
<p>This page describes changes to the 4.3&#x2e;1 build system.</p>
<ul>
<li>qtopiamake now has help.</li>
<li><tt>devices/&lt;device&gt;/environment</tt> has been simplified (logic moved into a separate script). See <a href="over-device-profiles-1.html">Device Profiles</a> for details.</li>
<li>Power users can request device profiles to avoid setting environment variables. If the <tt>QTOPIA_NO_ENV</tt> variable is set to 1 the logic that sets <tt>PATH</tt> and <tt>TEAMBUILDER_*</tt> will not run.</li>
<li>-I, -L, -l, -R and -D now apply when building Qtopia and Qtopia Core so you do not need to pass everything twice (ie. you no longer need <tt>-I/foo -extra-qtopiacore-config -I/foo</tt>).</li>
<li>make lupdate now applies to all available languages, not just the currently selected ones. This makes it much harder to miss updating a .ts file.</li>
<li>Device profiles can now prevent general.pri from being loaded by setting the no_general_pri CONFIG value.</li>
<li>Device profiles can use the environment variable <tt>MKSPECS</tt> to locate Qt's mkspecs directory. Full details are in <a href="over-device-profiles-1.html#mkspecs">mkspecs</a>.</li>
<li>The link test is now opt-in for external projects (due to issues found in testing actual third party code).</li>
<li>configure now detects the endianness of your target platform when it checks for GCC 4. This means you no longer need to tell Qtopia Core what endian your target system is. It also fixes a problem with qdawggen (the output format is endian-specific). Note that Qtopia now overrides any -big-endian or -little-endian switches passed to Qtopia Core via -extra-qtopiacore-config. If the test cannot determine the endianness of your target platform you should use the Qt Extended -big-endian or -little-endian switches.</li>
<li>The DBUS test now uses pkg-config. This obsoletes the -dbuspath switch and means that you will need PKG_CONFIG_PATH set. Device profiles should set this variable (and the PKG_CONFIG_PREFIX variable) in the <tt>environment</tt> file. See <a href="over-device-profiles-1.html">Device Profiles</a> for details.</li>
<li>It is now a fatal error to depend on a disabled project. You can force a non-fatal error by setting disabled_deps_are_non_fatal. See <a href="task-porting-to-qbuild-1.html#depends">depends</a>() for details.</li>
<li>You can now install alternate networking scripts more easily.</li>
</ul>
<a name="known-issues"></a>
<h3>Known issues</h3>
<ul>
<li>make lupdate is broken.</li>
</ul>
<p>See also <a href="changes.html">What's New?</a>.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="right"><div align="right">Qt Extended  - Build System Documentation</div></td>
</tr></table></div></address></body>
</html>

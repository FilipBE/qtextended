<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QBluetoothRfcommSerialPort Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QBluetoothRfcommSerialPort Class Reference<br /><span class="small-subtitle">[<a href="qtbluetoothmodule.html">QtBluetoothModule</a>]</span>
</h1>
<p>The QBluetoothRfcommSerialPort class represents a RFCOMM serial port device. <a href="#details">More...</a></p>
<pre>    #include &lt;QBluetoothRfcommSerialPort&gt;</pre><p>Inherits <a href="qobject.html">QObject</a>.</p>
<ul>
<li><a href="qbluetoothrfcommserialport-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qbluetoothrfcommserialport.html#Error-enum">Error</a></b> { NoError, SocketNotConnected, ConnectionFailed, ConnectionCancelled, CreationError }</li>
<li><div class="fn"/>enum <b><a href="qbluetoothrfcommserialport.html#Flag-enum">Flag</a></b> { KeepAlive }</li>
<li><div class="fn"/>flags <b><a href="qbluetoothrfcommserialport.html#Flag-enum">Flags</a></b></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qbluetoothrfcommserialport.html#QBluetoothRfcommSerialPort">QBluetoothRfcommSerialPort</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qbluetoothrfcommserialport.html#QBluetoothRfcommSerialPort-2">QBluetoothRfcommSerialPort</a></b> ( QBluetoothRfcommSocket * <i>socket</i>, QBluetoothRfcommSerialPort::Flags <i>deviceFlags</i> = 0, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qbluetoothrfcommserialport.html#dtor.QBluetoothRfcommSerialPort">~QBluetoothRfcommSerialPort</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qbluetoothrfcommserialport.html#connect">connect</a></b> ( const QBluetoothAddress &amp; <i>local</i>, const QBluetoothAddress &amp; <i>remote</i>, int <i>channel</i> )</li>
<li><div class="fn"/>QString <b><a href="qbluetoothrfcommserialport.html#device">device</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qbluetoothrfcommserialport.html#disconnect">disconnect</a></b> ()</li>
<li><div class="fn"/>QBluetoothRfcommSerialPort::Error <b><a href="qbluetoothrfcommserialport.html#error">error</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qbluetoothrfcommserialport.html#errorString">errorString</a></b> () const</li>
<li><div class="fn"/>QBluetoothRfcommSerialPort::Flags <b><a href="qbluetoothrfcommserialport.html#flags">flags</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothrfcommserialport.html#id">id</a></b> () const</li>
<li><div class="fn"/>QBluetoothAddress <b><a href="qbluetoothrfcommserialport.html#localAddress">localAddress</a></b> () const</li>
<li><div class="fn"/>QBluetoothAddress <b><a href="qbluetoothrfcommserialport.html#remoteAddress">remoteAddress</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothrfcommserialport.html#remoteChannel">remoteChannel</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qbluetoothrfcommserialport.html#connected">connected</a></b> ( const QString &amp; <i>device</i> )</li>
<li><div class="fn"/>void <b><a href="qbluetoothrfcommserialport.html#disconnected">disconnected</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qbluetoothrfcommserialport.html#error-2">error</a></b> ( QBluetoothRfcommSerialPort::Error <i>err</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<a name="static-public-members"></a>
<h3>Static Public Members</h3>
<ul>
<li><div class="fn"/>QList&lt;int&gt; <b><a href="qbluetoothrfcommserialport.html#listDevices">listDevices</a></b> ()</li>
<li><div class="fn"/>QList&lt;int&gt; <b><a href="qbluetoothrfcommserialport.html#listDevices-2">listDevices</a></b> ( const QBluetoothLocalDevice &amp; <i>local</i> )</li>
<li><div class="fn"/>bool <b><a href="qbluetoothrfcommserialport.html#releaseDevice">releaseDevice</a></b> ( int <i>id</i> )</li>
</ul>
<ul>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QBluetoothRfcommSerialPort class represents a RFCOMM serial port device.</p>
<p>This class enables conversion of RFCOMM sockets into serial tty devices. The class can be used in two major ways, by adapting an existing connected RFCOMM socket or by using the <a href="qbluetoothrfcommserialport.html#connect">connect</a>() function to establish a client connection to a remote device and adapt the resulting connection to a tty device.</p>
<p>The resulting tty device can be used by other applications like a regular serial tty device.</p>
<pre><span class="comment">    // Adapt a connected RFCOMM socket into a serial tty device</span>

    if (rfcommSocket-&gt;state() != QBluetoothRfcommSocket::ConnectedState) {
        <span class="comment">// Bail out</span>
        return;
    }

    QBluetoothRfcommSerialPort *serial =
        new QBluetoothRfcommSerialPort(rfcommSocket);

    if (serial-&gt;id() == -1) {
        <span class="comment">// Error creating serial port</span>
        return;
    }

    rfcommSocket-&gt;close();

<span class="comment">    // Use serial port</span>
    openSerialPort(serial-&gt;device());</pre>
<p>See also <a href="qbluetoothrfcommsocket.html">QBluetoothRfcommSocket</a> and <a href="qserialiodevice.html">QSerialIODevice</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="Error-enum"></a>enum QBluetoothRfcommSerialPort::Error</h3>
<p>Defines errors that could occur in <a href="qbluetoothrfcommserialport.html">QBluetoothRfcommSerialPort</a></p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QBluetoothRfcommSerialPort::NoError</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">No error has occurred.</td></tr>
<tr><td valign="top"><tt>QBluetoothRfcommSerialPort::SocketNotConnected</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The given socket is not connected.</td></tr>
<tr><td valign="top"><tt>QBluetoothRfcommSerialPort::ConnectionFailed</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">Could not connect to the remote device.</td></tr>
<tr><td valign="top"><tt>QBluetoothRfcommSerialPort::ConnectionCancelled</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">Connection has been cancelled.</td></tr>
<tr><td valign="top"><tt>QBluetoothRfcommSerialPort::CreationError</tt></td><td align="center" valign="top"><tt>4</tt></td><td valign="top">Could not create the serial port device.</td></tr>
</table></p>
<h3 class="flags"><a name="Flag-enum"></a>enum QBluetoothRfcommSerialPort::Flag<br />flags QBluetoothRfcommSerialPort::Flags</h3>
<p>Defines flags that alter the behavior of the <a href="qbluetoothrfcommserialport.html">QBluetoothRfcommSerialPort</a></p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QBluetoothRfcommSerialPort::KeepAlive</tt></td><td align="center" valign="top"><tt>0x01</tt></td><td valign="top">Deleting the serial port object will not necessarily shut down the serial port. The serial port will be kept open until all open handles (file descriptors) to the serial port are closed. You can use the release() method to forcibly delete a serial port.</td></tr>
</table></p>
<p>The Flags type is a typedef for <a href="qflags.html">QFlags</a>&lt;Flag&gt;. It stores an OR combination of Flag values.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QBluetoothRfcommSerialPort"></a>QBluetoothRfcommSerialPort::QBluetoothRfcommSerialPort ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new RFCOMM serial port object. The <i>parent</i> is passed to the <a href="qobject.html">QObject</a> constructor.</p>
<h3 class="fn"><a name="QBluetoothRfcommSerialPort-2"></a>QBluetoothRfcommSerialPort::QBluetoothRfcommSerialPort ( <a href="qbluetoothrfcommsocket.html">QBluetoothRfcommSocket</a> * <i>socket</i>, <a href="qbluetoothrfcommserialport.html#Flag-enum">QBluetoothRfcommSerialPort::Flags</a> <i>deviceFlags</i> = 0, <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Converts a connected RFCOMM <i>socket</i> to an RFCOMM serial port.</p>
<p>This constructor is useful in situations where you already have a connected RFCOMM socket and wish to convert it to a serial port. This is true of connections returned by <a href="qbluetoothabstractserver.html#nextPendingConnection">QBluetoothRfcommServer::nextPendingConnection</a>() or RFCOMM socket connections which require non-blocking connections.</p>
<p>Note: The caller should call <a href="qbluetoothabstractsocket.html#close">QBluetoothRfcommSocket::close</a>() on <i>socket</i> immediately after calling this constructor. Before the created <a href="qbluetoothrfcommserialport.html">QBluetoothRfcommSerialPort</a> device can be used, the <i>socket</i> should be closed. The <i>deviceFlags</i> parameter holds the optional flags that modify the serial port behavior.</p>
<p>In case the device could not be created or an error occurred, the <a href="qbluetoothrfcommserialport.html#id">id</a>() method will return -1. The caller should check the return value of <a href="qbluetoothrfcommserialport.html#id">id</a>() before using the serial port device.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#id">id</a>().</p>
<h3 class="fn"><a name="dtor.QBluetoothRfcommSerialPort"></a>QBluetoothRfcommSerialPort::~QBluetoothRfcommSerialPort ()</h3>
<p>Destroys a Bluetooth serial port object. If the instance is managing a serial port, <a href="qbluetoothrfcommserialport.html#disconnect">disconnect</a>() will be called first.</p>
<h3 class="fn"><a name="connect"></a>bool QBluetoothRfcommSerialPort::connect ( const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>local</i>, const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>remote</i>, int <i>channel</i> )</h3>
<p>This method tries to establish a connection to the remote device with address <i>remote</i> on <i>channel</i>. The local device is given by <i>local</i>. This method will return true if the request could be started, and false otherwise. The <a href="qbluetoothrfcommserialport.html#connected">connected</a>() signal will be sent once the operation completes.</p>
<p>You can cancel the connection process at any time by calling <a href="qbluetoothrfcommserialport.html#disconnect">disconnect</a>(). If the process is cancelled, the <a href="qbluetoothrfcommserialport.html#error">error</a>() signal will be sent with the <a href="qbluetoothrfcommserialport.html#Error-enum">QBluetoothRfcommSerialPort::ConnectionCancelled</a> error set.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#error">error</a>() and <a href="qbluetoothrfcommserialport.html#connected">connected</a>().</p>
<h3 class="fn"><a name="connected"></a>void QBluetoothRfcommSerialPort::connected ( const <a href="qstring.html">QString</a> &amp; <i>device</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted whenever the RFCOMM serial port is connected. The <i>device</i> parameter holds the device name of the created serial port.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#connect">connect</a>().</p>
<h3 class="fn"><a name="device"></a><a href="qstring.html">QString</a> QBluetoothRfcommSerialPort::device () const</h3>
<p>Returns the RFCOMM tty device which is being managed by the current instance of this class. If the instance is not managing a device, an empty string is returned.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#id">id</a>().</p>
<h3 class="fn"><a name="disconnect"></a>bool QBluetoothRfcommSerialPort::disconnect ()</h3>
<p>Returns true if able to disconnects the serial port; otherwise returns false. The underlying device will be removed unless the <a href="qbluetoothrfcommserialport.html#Flag-enum">QBluetoothRfcommSerialPort::KeepAlive</a> flag is set. The <a href="qbluetoothrfcommserialport.html#disconnected">disconnected</a>() signal will be sent once the disconnection is complete.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#disconnected">disconnected</a>().</p>
<h3 class="fn"><a name="disconnected"></a>void QBluetoothRfcommSerialPort::disconnected ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted whenever the RFCOMM serial port is disconnected.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#disconnect">disconnect</a>().</p>
<h3 class="fn"><a name="error"></a><a href="qbluetoothrfcommserialport.html#Error-enum">QBluetoothRfcommSerialPort::Error</a> QBluetoothRfcommSerialPort::error () const</h3>
<p>Returns the last error that has occurred.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#errorString">errorString</a>().</p>
<h3 class="fn"><a name="error-2"></a>void QBluetoothRfcommSerialPort::error ( <a href="qbluetoothrfcommserialport.html#Error-enum">QBluetoothRfcommSerialPort::Error</a> <i>err</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>This signal is emitted whenever an error occurs. The <i>err</i> parameter holds the error that has occurred.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#connect">connect</a>().</p>
<h3 class="fn"><a name="errorString"></a><a href="qstring.html">QString</a> QBluetoothRfcommSerialPort::errorString () const</h3>
<p>Returns the human readable form of the last error that has occurred.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#error">error</a>().</p>
<h3 class="fn"><a name="flags"></a><a href="qbluetoothrfcommserialport.html#Flag-enum">QBluetoothRfcommSerialPort::Flags</a> QBluetoothRfcommSerialPort::flags () const</h3>
<p>Returns the flags that the serial port has been opened with.</p>
<h3 class="fn"><a name="id"></a>int QBluetoothRfcommSerialPort::id () const</h3>
<p>Returns the device id of the associated RFCOMM device. If no device is found, returns -1. The device id is usually in the range of 0-31.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#device">device</a>().</p>
<h3 class="fn"><a name="listDevices"></a><a href="qlist.html">QList</a>&lt;int&gt; QBluetoothRfcommSerialPort::listDevices ()&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns a list of all RFCOMM device bindings.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#releaseDevice">releaseDevice</a>().</p>
<h3 class="fn"><a name="listDevices-2"></a><a href="qlist.html">QList</a>&lt;int&gt; QBluetoothRfcommSerialPort::listDevices ( const <a href="qbluetoothlocaldevice.html">QBluetoothLocalDevice</a> &amp; <i>local</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Returns a list of all RFCOMM devices for a particular Bluetooth adapter given by <i>local</i>.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#releaseDevice">releaseDevice</a>().</p>
<h3 class="fn"><a name="localAddress"></a><a href="qbluetoothaddress.html">QBluetoothAddress</a> QBluetoothRfcommSerialPort::localAddress () const</h3>
<p>Returns the address of the local device. If the socket is not currently connected, returns <a href="qbluetoothaddress.html#invalid-var">QBluetoothAddress::invalid</a>.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#remoteAddress">remoteAddress</a>().</p>
<h3 class="fn"><a name="releaseDevice"></a>bool QBluetoothRfcommSerialPort::releaseDevice ( int <i>id</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns true if able to release the RFCOMM device with <i>id</i>; otherwise returns false.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#listDevices">listDevices</a>().</p>
<h3 class="fn"><a name="remoteAddress"></a><a href="qbluetoothaddress.html">QBluetoothAddress</a> QBluetoothRfcommSerialPort::remoteAddress () const</h3>
<p>Returns the address of the remote device. If the socket is not currently connected, returns <a href="qbluetoothaddress.html#invalid-var">QBluetoothAddress::invalid</a>.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#localAddress">localAddress</a>() and <a href="qbluetoothrfcommserialport.html#remoteChannel">remoteChannel</a>().</p>
<h3 class="fn"><a name="remoteChannel"></a>int QBluetoothRfcommSerialPort::remoteChannel () const</h3>
<p>Returns the RFCOMM channel of the remote device. If the socket is not currently connected, returns -1.</p>
<p>See also <a href="qbluetoothrfcommserialport.html#remoteAddress">remoteAddress</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

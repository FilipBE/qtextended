<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QMailAccount Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QMailAccount Class Reference<br /><span class="small-subtitle">[<a href="qtmessagingmodule.html">QtMessagingModule</a>, <a href="qtpimmodule.html">QtPimModule</a>]</span>
</h1>
<p>The QMailAccount class represents a messaging account in the mail store. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailAccount&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<ul>
<li><a href="qmailaccount-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qmailaccount.html#QMailAccount">QMailAccount</a></b> ()</li>
<li><div class="fn"/><b><a href="qmailaccount.html#QMailAccount-2">QMailAccount</a></b> ( const QMailAccountId &amp; <i>id</i> )</li>
<li><div class="fn"/><b><a href="qmailaccount.html#QMailAccount-3">QMailAccount</a></b> ( const QMailAccount &amp; <i>other</i> )</li>
<li><div class="fn"/><b><a href="qmailaccount.html#dtor.QMailAccount">~QMailAccount</a></b> ()</li>
<li><div class="fn"/>QString <b><a href="qmailaccount.html#accountName">accountName</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qmailaccount.html#canCollectMail">canCollectMail</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qmailaccount.html#canSendMail">canSendMail</a></b> () const</li>
<li><div class="fn"/>const QStringList <b><a href="qmailaccount.html#deletedMessages">deletedMessages</a></b> () const</li>
<li><div class="fn"/>const QStringList <b><a href="qmailaccount.html#deletedMessages-2">deletedMessages</a></b> ( const QMailFolderId &amp; <i>folderId</i> ) const</li>
<li><div class="fn"/>QString <b><a href="qmailaccount.html#displayName">displayName</a></b> () const</li>
<li><div class="fn"/>QMailFolderId <b><a href="qmailaccount.html#getMailbox">getMailbox</a></b> ( const QString &amp; <i>name</i> )</li>
<li><div class="fn"/>bool <b><a href="qmailaccount.html#hasSettings">hasSettings</a></b> () const</li>
<li><div class="fn"/>QMailAccountId <b><a href="qmailaccount.html#id">id</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qmailaccount.html#isMessageSink">isMessageSink</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qmailaccount.html#isMessageSource">isMessageSource</a></b> () const</li>
<li><div class="fn"/>const QMailFolderIdList <b><a href="qmailaccount.html#mailboxes">mailboxes</a></b> () const</li>
<li><div class="fn"/>QStringList <b><a href="qmailaccount.html#messageSinks">messageSinks</a></b> () const</li>
<li><div class="fn"/>QStringList <b><a href="qmailaccount.html#messageSources">messageSources</a></b> () const</li>
<li><div class="fn"/>QMailMessage::MessageType <b><a href="qmailaccount.html#messageType">messageType</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qmailaccount.html#readSettings">readSettings</a></b> ( QSettings * <i>conf</i> )</li>
<li><div class="fn"/>void <b><a href="qmailaccount.html#saveSettings">saveSettings</a></b> ( QSettings * <i>conf</i> ) const</li>
<li><div class="fn"/>const QStringList <b><a href="qmailaccount.html#serverUids">serverUids</a></b> () const</li>
<li><div class="fn"/>const QStringList <b><a href="qmailaccount.html#serverUids-2">serverUids</a></b> ( const QMailFolderId &amp; <i>folderId</i> ) const</li>
<li><div class="fn"/>const QStringList <b><a href="qmailaccount.html#serverUids-3">serverUids</a></b> ( const QMailFolderId &amp; <i>folderId</i>, quint64 <i>messageStatusFilter</i>, bool <i>set</i> = true ) const</li>
<li><div class="fn"/>void <b><a href="qmailaccount.html#setAccountName">setAccountName</a></b> ( const QString &amp; <i>str</i> )</li>
<li><div class="fn"/>void <b><a href="qmailaccount.html#setId">setId</a></b> ( const QMailAccountId &amp; <i>id</i> )</li>
<li><div class="fn"/>QMailAccount &amp; <b><a href="qmailaccount.html#operator-eq">operator=</a></b> ( const QMailAccount &amp; <i>other</i> )</li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailAccount class represents a messaging account in the mail store.</p>
<p>A QMailAccount is a logical entity that groups messages according to the method by which they are sent and received. An account can be configured to support one more message sources, from which messages are imported into the mail store, and one or more message sinks by which messages are transmitted to external messaging services. Although an account can support multiple source or sinks, this facility is for grouping those that are logically equivalent; for example, using one of multiple connectivity options to retrieve messages from the same external server.</p>
<p>The QMailAccount class is used for accessing properties of the account related to dealing with the account's folders and messages, rather than for modifying the account itself. The <a href="accountconfiguration.html">AccountConfiguration</a> class allows for the configuration of the account itself to be modified. A newly created account must also have an <a href="accountconfiguration.html">AccountConfiguration</a> defined, in order to be used for transfer of messages to or from Qt Extended.</p>
<p>QMailAccount allows the communications properties of the account to be tested. The <a href="qmailaccount.html#canSendMail">canSendMail</a>() and <a href="qmailaccount.html#canCollectMail">canCollectMail</a>() functions allow the basic transfer capabilities of the account to be queried. The <a href="qmailaccount.html#messageSources">messageSources</a>() and <a href="qmailaccount.html#messageSinks">messageSinks</a>() functions return the protocol tags for each message source or message sink implementations configured for the account. These tags can be used to identify the implementation details of the account if necessary:</p>
<pre>    void someFunction(const QMailMessage &amp;message)
    {
        QMailAccount msgAccount(message.parentAccountId());
        if (msgAccount.messageSources().contains(&quot;imap4&quot;, Qt::CaseInsensitive)) {
            <span class="comment">// This account uses IMAP</span>
            ...
        }
    }</pre>
<p>The QMailAccount class also provides functions which help clients to access the resources of the account. The <a href="qmailaccount.html#mailboxes">mailboxes</a>() function returns a list of each folder associated with the account, while the <a href="qmailaccount.html#getMailbox">getMailbox</a>() function allows a mailbox to be located by name. The <a href="qmailaccount.html#deletedMessages">deletedMessages</a>() and <a href="qmailaccount.html#serverUids">serverUids</a>() functions are primarily used in synchronizing the account's contents with those present on an external server.</p>
<p>See also <a href="accountconfiguration.html">AccountConfiguration</a> and <a href="qmailstore.html#account">QMailStore::account</a>().</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailAccount"></a>QMailAccount::QMailAccount ()</h3>
<p>Creates an uninitialised account object.</p>
<h3 class="fn"><a name="QMailAccount-2"></a>QMailAccount::QMailAccount ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>id</i> )</h3>
<p>Convenience constructor that creates a <tt>QMailAccount</tt> by loading the data from the store as specified by the <a href="qmailaccountid.html">QMailAccountId</a> <i>id</i>. If the account does not exist in the store, then this constructor will create an empty and invalid <a href="qmailaccount.html">QMailAccount</a>.</p>
<h3 class="fn"><a name="QMailAccount-3"></a>QMailAccount::QMailAccount ( const QMailAccount &amp; <i>other</i> )</h3>
<p>Creates a copy of the <a href="qmailaccount.html">QMailAccount</a> <i>other</i>.</p>
<h3 class="fn"><a name="dtor.QMailAccount"></a>QMailAccount::~QMailAccount ()</h3>
<p>Destroys the account object.</p>
<h3 class="fn"><a name="accountName"></a><a href="qstring.html">QString</a> QMailAccount::accountName () const</h3>
<p>Returns the name of the account for display purposes.</p>
<p>See also <a href="qmailaccount.html#setAccountName">setAccountName</a>().</p>
<h3 class="fn"><a name="canCollectMail"></a>bool QMailAccount::canCollectMail () const</h3>
<p>Returns true if the account can be used to collect mail. That is if it is an IMAP or POP account; otherwise returns false.</p>
<h3 class="fn"><a name="canSendMail"></a>bool QMailAccount::canSendMail () const</h3>
<p>Returns true if the account can be used to send mail.</p>
<h3 class="fn"><a name="deletedMessages"></a>const <a href="qstringlist.html">QStringList</a> QMailAccount::deletedMessages () const</h3>
<p>Return the list of messages removed from this account.</p>
<h3 class="fn"><a name="deletedMessages-2"></a>const <a href="qstringlist.html">QStringList</a> QMailAccount::deletedMessages ( const <a href="qmailfolderid.html">QMailFolderId</a> &amp; <i>folderId</i> ) const</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Return the list of messages removed from the mailbox identified by <i>folderId</i>.</p>
<h3 class="fn"><a name="displayName"></a><a href="qstring.html">QString</a> QMailAccount::displayName () const</h3>
<p>Returns the name of the account as suitable for displaying in the user interface. Currently simply returns the account name.</p>
<h3 class="fn"><a name="getMailbox"></a><a href="qmailfolderid.html">QMailFolderId</a> QMailAccount::getMailbox ( const <a href="qstring.html">QString</a> &amp; <i>name</i> )</h3>
<p>Returns the subfolder with the given <i>name</i> if any; other returns an invalid ID.</p>
<p>See also <a href="qmailaccount.html#mailboxes">mailboxes</a>().</p>
<h3 class="fn"><a name="hasSettings"></a>bool QMailAccount::hasSettings () const</h3>
<p>Returns true if the account has configuration file settings; otherwise false. Currently only returns false for SMS accounts.</p>
<p>See also <a href="qmailaccount.html#saveSettings">saveSettings</a>() and <a href="qmailaccount.html#readSettings">readSettings</a>().</p>
<h3 class="fn"><a name="id"></a><a href="qmailaccountid.html">QMailAccountId</a> QMailAccount::id () const</h3>
<p>Returns the storage id for this account.</p>
<p>See also <a href="qmailaccount.html#setId">setId</a>().</p>
<h3 class="fn"><a name="isMessageSink"></a>bool QMailAccount::isMessageSink () const</h3>
<p>Returns true if this account can transmit outgoing messages to external messaging services.</p>
<h3 class="fn"><a name="isMessageSource"></a>bool QMailAccount::isMessageSource () const</h3>
<p>Returns true if this account has incoming messages sourced from external messaging services.</p>
<h3 class="fn"><a name="mailboxes"></a>const <a href="qmailfolderid.html#QMailFolderIdList-typedef">QMailFolderIdList</a> QMailAccount::mailboxes () const</h3>
<p>Returns the list of identifiers for the mailboxes of this account.</p>
<p>See also <a href="qmailaccount.html#getMailbox">getMailbox</a>().</p>
<h3 class="fn"><a name="messageSinks"></a><a href="qstringlist.html">QStringList</a> QMailAccount::messageSinks () const</h3>
<p>Returns the list of protocol tags identifying the message sink implementations that can transmit messages for this account.</p>
<h3 class="fn"><a name="messageSources"></a><a href="qstringlist.html">QStringList</a> QMailAccount::messageSources () const</h3>
<p>Returns the list of protocol tags identifying the message source implementations that provide the messages for this account.</p>
<h3 class="fn"><a name="messageType"></a><a href="qmailmessagemetadata.html#MessageType-enum">QMailMessage::MessageType</a> QMailAccount::messageType () const</h3>
<p>Returns the types of messsages this account deals with.</p>
<h3 class="fn"><a name="readSettings"></a>void QMailAccount::readSettings ( <a href="qsettings.html">QSettings</a> * <i>conf</i> )</h3>
<p>Deserialize the account information from the current group of the given <a href="qsettings.html">QSettings</a> file <i>conf</i>.</p>
<p>See also <a href="qmailaccount.html#saveSettings">saveSettings</a>() and <a href="qmailaccount.html#hasSettings">hasSettings</a>().</p>
<h3 class="fn"><a name="saveSettings"></a>void QMailAccount::saveSettings ( <a href="qsettings.html">QSettings</a> * <i>conf</i> ) const</h3>
<p>Serialize the account information to the current group of the given <a href="qsettings.html">QSettings</a> file <i>conf</i>.</p>
<p>See also <a href="qmailaccount.html#readSettings">readSettings</a>() and <a href="qmailaccount.html#hasSettings">hasSettings</a>().</p>
<h3 class="fn"><a name="serverUids"></a>const <a href="qstringlist.html">QStringList</a> QMailAccount::serverUids () const</h3>
<p>Returns the list of server UIDs for messages owned by this account.</p>
<h3 class="fn"><a name="serverUids-2"></a>const <a href="qstringlist.html">QStringList</a> QMailAccount::serverUids ( const <a href="qmailfolderid.html">QMailFolderId</a> &amp; <i>folderId</i> ) const</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Returns the list of message server UIDs for this account, that are located in the folder identified by <i>folderId</i>.</p>
<h3 class="fn"><a name="serverUids-3"></a>const <a href="qstringlist.html">QStringList</a> QMailAccount::serverUids ( const <a href="qmailfolderid.html">QMailFolderId</a> &amp; <i>folderId</i>, <a href="qtglobal.html#quint64-typedef">quint64</a> <i>messageStatusFilter</i>, bool <i>set</i> = true ) const</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Returns the list of message server UIDs located in the folder identified by <i>folderId</i>, whose status field yields <i>set</i> when logically ANDed with <i>messageStatusFilter</i>.</p>
<h3 class="fn"><a name="setAccountName"></a>void QMailAccount::setAccountName ( const <a href="qstring.html">QString</a> &amp; <i>str</i> )</h3>
<p>Sets the name of the account for display purposes to <i>str</i>.</p>
<p>See also <a href="qmailaccount.html#accountName">accountName</a>().</p>
<h3 class="fn"><a name="setId"></a>void QMailAccount::setId ( const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>id</i> )</h3>
<p>Sets the storage id for this account to <i>id</i>.</p>
<p>See also <a href="qmailaccount.html#id">id</a>().</p>
<h3 class="fn"><a name="operator-eq"></a>QMailAccount &amp; QMailAccount::operator= ( const QMailAccount &amp; <i>other</i> )</h3>
<p>Assigns the value of this account to the account <i>other</i></p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

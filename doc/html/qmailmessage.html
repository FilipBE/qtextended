<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QMailMessage Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QMailMessage Class Reference<br /><span class="small-subtitle">[<a href="qtmessagingmodule.html">QtMessagingModule</a>, <a href="qtpimmodule.html">QtPimModule</a>]</span>
</h1>
<p>The QMailMessage class provides a convenient interface for working with messages. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailMessage&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="qmailmessagemetadata.html">QMailMessageMetaData</a> and <a href="qmailmessagepartcontainer.html">QMailMessagePartContainer</a>.</p>
<ul>
<li><a href="qmailmessage-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qmailmessage.html#AttachmentsAction-enum">AttachmentsAction</a></b> { LinkToAttachments, CopyAttachments, CopyAndDeleteAttachments }</li>
<li><div class="fn"/>enum <b><a href="qmailmessage.html#EncodingFormat-enum">EncodingFormat</a></b> { HeaderOnlyFormat, StorageFormat, TransmissionFormat, IdentityFormat }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qmailmessage.html#QMailMessage">QMailMessage</a></b> ()</li>
<li><div class="fn"/><b><a href="qmailmessage.html#QMailMessage-2">QMailMessage</a></b> ( const QMailMessageId &amp; <i>id</i> )</li>
<li><div class="fn"/><b><a href="qmailmessage.html#QMailMessage-3">QMailMessage</a></b> ( const QString &amp; <i>uid</i>, const QMailAccountId &amp; <i>accountId</i> )</li>
<li><div class="fn"/>virtual QList&lt;QMailAddress&gt; <b><a href="qmailmessage.html#bcc">bcc</a></b> () const</li>
<li><div class="fn"/>virtual QList&lt;QMailAddress&gt; <b><a href="qmailmessage.html#cc">cc</a></b> () const</li>
<li><div class="fn"/>virtual bool <b><a href="qmailmessage.html#hasRecipients">hasRecipients</a></b> () const</li>
<li><div class="fn"/>virtual QString <b><a href="qmailmessage.html#inReplyTo">inReplyTo</a></b> () const</li>
<li><div class="fn"/>virtual QList&lt;QMailAddress&gt; <b><a href="qmailmessage.html#recipients">recipients</a></b> () const</li>
<li><div class="fn"/>virtual QMailAddress <b><a href="qmailmessage.html#replyTo">replyTo</a></b> () const</li>
<li><div class="fn"/>virtual void <b><a href="qmailmessage.html#setBcc">setBcc</a></b> ( const QList&lt;QMailAddress&gt; &amp; <i>bccList</i> )</li>
<li><div class="fn"/>virtual void <b><a href="qmailmessage.html#setCc">setCc</a></b> ( const QList&lt;QMailAddress&gt; &amp; <i>ccList</i> )</li>
<li><div class="fn"/>virtual void <b><a href="qmailmessage.html#setInReplyTo">setInReplyTo</a></b> ( const QString &amp; <i>messageId</i> )</li>
<li><div class="fn"/>virtual void <b><a href="qmailmessage.html#setReplyTo">setReplyTo</a></b> ( const QMailAddress &amp; <i>address</i> )</li>
<li><div class="fn"/>QByteArray <b><a href="qmailmessage.html#toRfc2822">toRfc2822</a></b> ( EncodingFormat <i>format</i> = TransmissionFormat ) const</li>
<li><div class="fn"/>void <b><a href="qmailmessage.html#toRfc2822-2">toRfc2822</a></b> ( QDataStream &amp; <i>out</i>, EncodingFormat <i>format</i> = TransmissionFormat ) const</li>
</ul>
<ul>
<li><div class="fn"/>33 public functions inherited from <a href="qmailmessagemetadata.html#public-functions">QMailMessageMetaData</a></li>
<li><div class="fn"/>25 public functions inherited from <a href="qmailmessagepartcontainer.html#public-functions">QMailMessagePartContainer</a></li>
</ul>
<a name="static-public-members"></a>
<h3>Static Public Members</h3>
<ul>
<li><div class="fn"/>QMailMessage <b><a href="qmailmessage.html#fromRfc2822">fromRfc2822</a></b> ( const QByteArray &amp; <i>byteArray</i> )</li>
<li><div class="fn"/>QMailMessage <b><a href="qmailmessage.html#fromRfc2822File">fromRfc2822File</a></b> ( const QString &amp; <i>fileName</i> )</li>
</ul>
<ul>
<li><div class="fn"/>13 static public members inherited from <a href="qmailmessagemetadata.html#static-public-members">QMailMessageMetaData</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailMessage class provides a convenient interface for working with messages.</p>
<p>QMailMessage supports a number of types. These include telephony types such as SMS and MMS, and internet email messages as defined in <a href="http://www.ietf.org/rfc/rfc2822.txt">RFC 2822</a> (Internet Message Format), and <a href="http://www.ietf.org/rfc/rfc2045.txt">RFC 2045</a> (Format of Internet Message Bodies) through <a href="http://www.ietf.org/rfc/rfc2049.txt">RFC 2049</a> (Conformance Criteria and Examples).</p>
<p>The most common way to use QMailMessage is to initialize it from raw data using <a href="qmailmessage.html#fromRfc2822">QMailMessage::fromRfc2822</a>().</p>
<p>A QMailMessage can also be constructed piece by piece using functions such as <a href="qmailmessagemetadata.html#setMessageType">setMessageType</a>(), <a href="qmailmessagemetadata.html#setFrom">setFrom</a>(), <a href="qmailmessagemetadata.html#setTo">setTo</a>(), <a href="qmailmessagemetadata.html#setSubject">setSubject</a>(), and <a href="qmailmessagepartcontainer.html#setBody">setBody</a>() or <a href="qmailmessagepartcontainer.html#appendPart">appendPart</a>(). Convenience functions such as <a href="qmailmessagemetadata.html#from">from</a>()/<a href="qmailmessagemetadata.html#setFrom">setFrom</a>() and <a href="qmailmessagemetadata.html#date">date</a>()/<a href="qmailmessagemetadata.html#setDate">setDate</a>() accept and return wrapper types, to simplify the exchange of correctly-formatted data. In some cases, however, it may be simpler for clients to get and set the content of header fields directly, using the <a href="qmailmessagepartcontainer.html#headerField">headerField</a>() and <a href="qmailmessagepartcontainer.html#setHeaderField">setHeaderField</a>() functions inherited from <a href="qmailmessagepartcontainer.html">QMailMessagePartContainer</a>.</p>
<p>Messages can be added to the <a href="qmailstore.html">QMailStore</a>, or retrieved from the store via their <a href="qmailmessageid.html">QMailMessageId</a> identifier. The QMailMessage object also provides acces to any relevant meta data describing the message, using the functions inherited from <a href="qmailmessagemetadata.html">QMailMessageMetaData</a>.</p>
<p>A message may be serialized to a <a href="qdatastream.html">QDataStream</a>, or returned as a <a href="qbytearray.html">QByteArray</a> using <a href="qmailmessage.html#toRfc2822">toRfc2822</a>().</p>
<p>See also <a href="qmailmessagemetadata.html">QMailMessageMetaData</a>, <a href="qmailmessagepart.html">QMailMessagePart</a>, <a href="qmailmessagebody.html">QMailMessageBody</a>, <a href="qmailstore.html">QMailStore</a>, and <a href="qmailmessageid.html">QMailMessageId</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="AttachmentsAction-enum"></a>enum QMailMessage::AttachmentsAction</h3>
<p>This enum type is used to describe the action that should be performed on each message attachment.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QMailMessage::LinkToAttachments</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Add a part to the message containing a link to the supplied attachment. If the document is removed, the message will no longer have access to the data.</td></tr>
<tr><td valign="top"><tt>QMailMessage::CopyAttachments</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Add a part to the message containing a copy of the data in the supplied attachment. If the document is removed, the message will still contain the data.</td></tr>
<tr><td valign="top"><tt>QMailMessage::CopyAndDeleteAttachments</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">Add a part to the message containing a copy of the data in the supplied attachment, then delete the document from which the data was copied.</td></tr>
</table></p>
<h3 class="fn"><a name="EncodingFormat-enum"></a>enum QMailMessage::EncodingFormat</h3>
<p>This enum type is used to describe the format in which a message should be serialized.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QMailMessage::HeaderOnlyFormat</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Only the header portion of the message is serialized, to RFC 2822 form.</td></tr>
<tr><td valign="top"><tt>QMailMessage::StorageFormat</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">The message is serialized to RFC 2822 form, without attachments.</td></tr>
<tr><td valign="top"><tt>QMailMessage::TransmissionFormat</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">The entire message is serialized to RFC 2822 form, with additional header fields added if necessary, and 'bcc' header field omitted.</td></tr>
<tr><td valign="top"><tt>QMailMessage::IdentityFormat</tt></td><td align="center" valign="top"><tt>4</tt></td><td valign="top">The entire message is serialized to RFC 2822 form, with only Content-Type and Content-Transfer-Encoding headers added where required.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailMessage"></a>QMailMessage::QMailMessage ()</h3>
<p>Constructs an empty message object.</p>
<h3 class="fn"><a name="QMailMessage-2"></a>QMailMessage::QMailMessage ( const <a href="qmailmessageid.html">QMailMessageId</a> &amp; <i>id</i> )</h3>
<p>Constructs a message object from data stored in the message store with <a href="qmailmessageid.html">QMailMessageId</a> <i>id</i>.</p>
<h3 class="fn"><a name="QMailMessage-3"></a>QMailMessage::QMailMessage ( const <a href="qstring.html">QString</a> &amp; <i>uid</i>, const <a href="qmailaccountid.html">QMailAccountId</a> &amp; <i>accountId</i> )</h3>
<p>Constructs a message object from data stored in the message store with the unique identifier <i>uid</i> from the account with id <i>accountId</i>.</p>
<h3 class="fn"><a name="bcc"></a><a href="qlist.html">QList</a>&lt;<a href="qmailaddress.html">QMailAddress</a>&gt; QMailMessage::bcc () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns a list of all the bcc (blind carbon copy) recipients specified for the message.</p>
<p>See also <a href="qmailmessage.html#setBcc">setBcc</a>(), <a href="qmailmessagemetadata.html#to">to</a>(), <a href="qmailmessage.html#cc">cc</a>(), and <a href="qmailaddress.html">QMailAddress</a>.</p>
<h3 class="fn"><a name="cc"></a><a href="qlist.html">QList</a>&lt;<a href="qmailaddress.html">QMailAddress</a>&gt; QMailMessage::cc () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns a list of all the cc (carbon copy) recipients specified for the message.</p>
<p>See also <a href="qmailmessage.html#setCc">setCc</a>(), <a href="qmailmessagemetadata.html#to">to</a>(), <a href="qmailmessage.html#bcc">bcc</a>(), and <a href="qmailaddress.html">QMailAddress</a>.</p>
<h3 class="fn"><a name="fromRfc2822"></a>QMailMessage QMailMessage::fromRfc2822 ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>byteArray</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Constructs a mail message from the RFC 2822 data contained in <i>byteArray</i>.</p>
<h3 class="fn"><a name="fromRfc2822File"></a>QMailMessage QMailMessage::fromRfc2822File ( const <a href="qstring.html">QString</a> &amp; <i>fileName</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Constructs a mail message from the RFC 2822 data contained in the file <i>fileName</i>.</p>
<h3 class="fn"><a name="hasRecipients"></a>bool QMailMessage::hasRecipients () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns true if there are any recipients (either To, CC or BCC addresses) defined for this message; otherwise returns false.</p>
<h3 class="fn"><a name="inReplyTo"></a><a href="qstring.html">QString</a> QMailMessage::inReplyTo () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the message ID specified by the RFC 2822 'In-Reply-To' field for the message, if present.</p>
<p>See also <a href="qmailmessage.html#setInReplyTo">setInReplyTo</a>().</p>
<h3 class="fn"><a name="recipients"></a><a href="qlist.html">QList</a>&lt;<a href="qmailaddress.html">QMailAddress</a>&gt; QMailMessage::recipients () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns a list of all the recipients specified for the message, either as To, CC, or BCC addresses.</p>
<p>See also <a href="qmailmessagemetadata.html#to">to</a>(), <a href="qmailmessage.html#cc">cc</a>(), <a href="qmailmessage.html#bcc">bcc</a>(), and <a href="qmailmessage.html#hasRecipients">hasRecipients</a>().</p>
<h3 class="fn"><a name="replyTo"></a><a href="qmailaddress.html">QMailAddress</a> QMailMessage::replyTo () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the address specified by the RFC 2822 'Reply-To' field for the message, if present.</p>
<p>See also <a href="qmailmessage.html#setReplyTo">setReplyTo</a>().</p>
<h3 class="fn"><a name="setBcc"></a>void QMailMessage::setBcc ( const <a href="qlist.html">QList</a>&lt;<a href="qmailaddress.html">QMailAddress</a>&gt; &amp; <i>bccList</i> )&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Set the list of bcc (blind carbon copy) recipients for the message to <i>bccList</i>.</p>
<p>See also <a href="qmailmessage.html#bcc">bcc</a>(), <a href="qmailmessagemetadata.html#setTo">setTo</a>(), and <a href="qmailmessage.html#setCc">setCc</a>().</p>
<h3 class="fn"><a name="setCc"></a>void QMailMessage::setCc ( const <a href="qlist.html">QList</a>&lt;<a href="qmailaddress.html">QMailAddress</a>&gt; &amp; <i>ccList</i> )&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Set the list of cc (carbon copy) recipients for the message to <i>ccList</i>.</p>
<p>See also <a href="qmailmessagemetadata.html#setTo">setTo</a>() and <a href="qmailmessage.html#setBcc">setBcc</a>().</p>
<h3 class="fn"><a name="setInReplyTo"></a>void QMailMessage::setInReplyTo ( const <a href="qstring.html">QString</a> &amp; <i>messageId</i> )&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Sets the RFC 2822 'In-Reply-To' field for the message to <i>messageId</i>.</p>
<p>See also <a href="qmailmessage.html#inReplyTo">inReplyTo</a>().</p>
<h3 class="fn"><a name="setReplyTo"></a>void QMailMessage::setReplyTo ( const <a href="qmailaddress.html">QMailAddress</a> &amp; <i>address</i> )&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Sets the RFC 2822 'Reply-To' address of the message to <i>address</i>.</p>
<p>See also <a href="qmailmessage.html#replyTo">replyTo</a>().</p>
<h3 class="fn"><a name="toRfc2822"></a><a href="qbytearray.html">QByteArray</a> QMailMessage::toRfc2822 ( <a href="qmailmessage.html#EncodingFormat-enum">EncodingFormat</a> <i>format</i> = TransmissionFormat ) const</h3>
<p>Returns the message in RFC 2822 format. The encoded content will vary depending on the value of <i>format</i>.</p>
<h3 class="fn"><a name="toRfc2822-2"></a>void QMailMessage::toRfc2822 ( <a href="qdatastream.html">QDataStream</a> &amp; <i>out</i>, <a href="qmailmessage.html#EncodingFormat-enum">EncodingFormat</a> <i>format</i> = TransmissionFormat ) const</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Writes the message to the output stream <i>out</i>, in RFC 2822 format. The encoded content will vary depending on the value of <i>format</i>.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QSMSMessage Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QSMSMessage Class Reference<br /><span class="small-subtitle">[<a href="qttelephonymodule.html">QtTelephonyModule</a>]</span>
</h1>
<p>The QSMSMessage class specifies the contents of an SMS message. <a href="#details">More...</a></p>
<pre>    #include &lt;QSMSMessage&gt;</pre><ul>
<li><a href="qsmsmessage-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qsmsmessage.html#MessageType-enum">MessageType</a></b> { Normal, CellBroadCast, StatusReport }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qsmsmessage.html#QSMSMessage">QSMSMessage</a></b> ()</li>
<li><div class="fn"/><b><a href="qsmsmessage.html#QSMSMessage-2">QSMSMessage</a></b> ( const QSMSMessage &amp; <i>msg</i> )</li>
<li><div class="fn"/><b><a href="qsmsmessage.html#dtor.QSMSMessage">~QSMSMessage</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#addPart">addPart</a></b> ( const QSMSMessagePart &amp; <i>part</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#addParts">addParts</a></b> ( const QList&lt;QSMSMessagePart&gt; &amp; <i>parts</i> )</li>
<li><div class="fn"/>QByteArray <b><a href="qsmsmessage.html#applicationData">applicationData</a></b> () const</li>
<li><div class="fn"/>QSMSDataCodingScheme <b><a href="qsmsmessage.html#bestScheme">bestScheme</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#clearParts">clearParts</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#computeSize">computeSize</a></b> ( uint &amp; <i>numMessages</i>, uint &amp; <i>spaceLeftInLast</i> ) const</li>
<li><div class="fn"/>int <b><a href="qsmsmessage.html#dataCodingScheme">dataCodingScheme</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qsmsmessage.html#destinationPort">destinationPort</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qsmsmessage.html#forceGsm">forceGsm</a></b> () const</li>
<li><div class="fn"/>uint <b><a href="qsmsmessage.html#gsmValidityPeriod">gsmValidityPeriod</a></b> () const</li>
<li><div class="fn"/>const QByteArray &amp; <b><a href="qsmsmessage.html#headers">headers</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qsmsmessage.html#messageClass">messageClass</a></b> () const</li>
<li><div class="fn"/>MessageType <b><a href="qsmsmessage.html#messageType">messageType</a></b> () const</li>
<li><div class="fn"/>QList&lt;QSMSMessagePart&gt; <b><a href="qsmsmessage.html#parts">parts</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qsmsmessage.html#protocol">protocol</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qsmsmessage.html#recipient">recipient</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qsmsmessage.html#replyRequest">replyRequest</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qsmsmessage.html#sender">sender</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qsmsmessage.html#serviceCenter">serviceCenter</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setApplicationData">setApplicationData</a></b> ( const QByteArray &amp; <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setBestScheme">setBestScheme</a></b> ( QSMSDataCodingScheme <i>scheme</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setDataCodingScheme">setDataCodingScheme</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setDestinationPort">setDestinationPort</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setForceGsm">setForceGsm</a></b> ( bool <i>force</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setGsmValidityPeriod">setGsmValidityPeriod</a></b> ( uint <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setHeaders">setHeaders</a></b> ( const QByteArray &amp; <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setMessageClass">setMessageClass</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setProtocol">setProtocol</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setRecipient">setRecipient</a></b> ( const QString &amp; <i>txt</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setReplyRequest">setReplyRequest</a></b> ( bool <i>on</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setSender">setSender</a></b> ( const QString &amp; <i>txt</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setServiceCenter">setServiceCenter</a></b> ( const QString &amp; <i>str</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setSourcePort">setSourcePort</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setStatusReportRequested">setStatusReportRequested</a></b> ( bool <i>on</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setText">setText</a></b> ( const QString &amp; <i>str</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setTextCodec">setTextCodec</a></b> ( QTextCodec * <i>codec</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setTimestamp">setTimestamp</a></b> ( const QDateTime &amp; <i>timestamp</i> )</li>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setValidityPeriod">setValidityPeriod</a></b> ( uint <i>minutes</i> )</li>
<li><div class="fn"/>bool <b><a href="qsmsmessage.html#shouldSplit">shouldSplit</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qsmsmessage.html#sourcePort">sourcePort</a></b> () const</li>
<li><div class="fn"/>QList&lt;QSMSMessage&gt; <b><a href="qsmsmessage.html#split">split</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qsmsmessage.html#statusReportRequested">statusReportRequested</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qsmsmessage.html#text">text</a></b> () const</li>
<li><div class="fn"/>QTextCodec * <b><a href="qsmsmessage.html#textCodec">textCodec</a></b> () const</li>
<li><div class="fn"/>QDateTime <b><a href="qsmsmessage.html#timestamp">timestamp</a></b> () const</li>
<li><div class="fn"/>QByteArray <b><a href="qsmsmessage.html#toPdu">toPdu</a></b> () const</li>
<li><div class="fn"/>uint <b><a href="qsmsmessage.html#validityPeriod">validityPeriod</a></b> () const</li>
<li><div class="fn"/>QSMSMessage &amp; <b><a href="qsmsmessage.html#operator-eq">operator=</a></b> ( const QSMSMessage &amp; <i>msg</i> )</li>
</ul>
<a name="static-public-members"></a>
<h3>Static Public Members</h3>
<ul>
<li><div class="fn"/>QSMSMessage <b><a href="qsmsmessage.html#fromPdu">fromPdu</a></b> ( const QByteArray &amp; <i>pdu</i> )</li>
<li><div class="fn"/>int <b><a href="qsmsmessage.html#pduAddressLength">pduAddressLength</a></b> ( const QByteArray &amp; <i>pdu</i> )</li>
</ul>
<a name="protected-functions"></a>
<h3>Protected Functions</h3>
<ul>
<li><div class="fn"/>void <b><a href="qsmsmessage.html#setMessageType">setMessageType</a></b> ( MessageType <i>m</i> )</li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QSMSMessage class specifies the contents of an SMS message.</p>
<p>This class is intended for use with <a href="qsmsreader.html">QSMSReader</a> and <a href="qsmssender.html">QSMSSender</a> to process SMS messages according to 3GPP TS 03.40 and 23.040.</p>
<p>An incoming SMS message from <a href="qsmsreader.html">QSMSReader</a> will typically have <a href="qsmsmessage.html#text">text</a>() and <a href="qsmsmessage.html#sender">sender</a>() set. Other fields such as <a href="qsmsmessage.html#destinationPort">destinationPort</a>() and <a href="qsmsmessage.html#applicationData">applicationData</a>() may be set if the message is a WAP Push or SMS datagram message rather than plain text.</p>
<p>An outgoing SMS message sent via <a href="qsmssender.html">QSMSSender</a> will need to have at least <a href="qsmsmessage.html#recipient">recipient</a>() and <a href="qsmsmessage.html#text">text</a>() set. If the message is a WAP Push or SMS datagram message rather than plain text, then <a href="qsmsmessage.html#destinationPort">destinationPort</a>() and <a href="qsmsmessage.html#applicationData">applicationData</a>() should also be set.</p>
<p>Special header fields in SMS messages can be accessed with <a href="qsmsmessage.html#serviceCenter">serviceCenter</a>(), <a href="qsmsmessage.html#replyRequest">replyRequest</a>(), <a href="qsmsmessage.html#statusReportRequested">statusReportRequested</a>(), <a href="qsmsmessage.html#validityPeriod">validityPeriod</a>(), <a href="qsmsmessage.html#timestamp">timestamp</a>(), <a href="qsmsmessage.html#dataCodingScheme">dataCodingScheme</a>(), and <a href="qsmsmessage.html#protocol">protocol</a>().</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="MessageType-enum"></a>enum QSMSMessage::MessageType</h3>
<p>Defines the type of an SMS message.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QSMSMessage::Normal</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">The message is a normal SMS message.</td></tr>
<tr><td valign="top"><tt>QSMSMessage::CellBroadCast</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The message is a cell broadcast message.</td></tr>
<tr><td valign="top"><tt>QSMSMessage::StatusReport</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">The message is an SMS status report message.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QSMSMessage"></a>QSMSMessage::QSMSMessage ()</h3>
<p>Constructs an empty <a href="qsmsmessage.html">QSMSMessage</a>.</p>
<h3 class="fn"><a name="QSMSMessage-2"></a>QSMSMessage::QSMSMessage ( const QSMSMessage &amp; <i>msg</i> )</h3>
<p>Constructs an <a href="qsmsmessage.html">QSMSMessage</a> that is a copy of <i>msg</i>.</p>
<h3 class="fn"><a name="dtor.QSMSMessage"></a>QSMSMessage::~QSMSMessage ()</h3>
<p>Destructs the <a href="qsmsmessage.html">QSMSMessage</a>.</p>
<h3 class="fn"><a name="addPart"></a>void QSMSMessage::addPart ( const <a href="qsmsmessagepart.html">QSMSMessagePart</a> &amp; <i>part</i> )</h3>
<p>Add a new body <i>part</i> to this SMS message.</p>
<p>See also <a href="qsmsmessage.html#clearParts">clearParts</a>(), <a href="qsmsmessage.html#addParts">addParts</a>(), and <a href="qsmsmessage.html#parts">parts</a>().</p>
<h3 class="fn"><a name="addParts"></a>void QSMSMessage::addParts ( const <a href="qlist.html">QList</a>&lt;<a href="qsmsmessagepart.html">QSMSMessagePart</a>&gt; &amp; <i>parts</i> )</h3>
<p>Add a list of body <i>parts</i> to this SMS message.</p>
<p>See also <a href="qsmsmessage.html#clearParts">clearParts</a>(), <a href="qsmsmessage.html#addPart">addPart</a>(), and <a href="qsmsmessage.html#parts">parts</a>().</p>
<h3 class="fn"><a name="applicationData"></a><a href="qbytearray.html">QByteArray</a> QSMSMessage::applicationData () const</h3>
<p>Returns the data if this SMS message contains an application datagram. Returns an empty byte array if this message is not a datagram.</p>
<p>See also <a href="qsmsmessage.html#setApplicationData">setApplicationData</a>().</p>
<h3 class="fn"><a name="bestScheme"></a>QSMSDataCodingScheme QSMSMessage::bestScheme () const</h3>
<p>Returns the best SMS data coding scheme to use for this message, determined by an inspection of the plain text body parts.</p>
<p>See also <a href="qsmsmessage.html#setBestScheme">setBestScheme</a>().</p>
<h3 class="fn"><a name="clearParts"></a>void QSMSMessage::clearParts ()</h3>
<p>Clear all body parts from this SMS message.</p>
<p>See also <a href="qsmsmessage.html#addPart">addPart</a>(), <a href="qsmsmessage.html#addParts">addParts</a>(), and <a href="qsmsmessage.html#parts">parts</a>().</p>
<h3 class="fn"><a name="computeSize"></a>void QSMSMessage::computeSize ( <a href="qtglobal.html#uint-typedef">uint</a> &amp; <i>numMessages</i>, <a href="qtglobal.html#uint-typedef">uint</a> &amp; <i>spaceLeftInLast</i> ) const</h3>
<p>Compute an estimate for the number of messages that will need to be used to send this SMS message (<i>numMessages</i>), and the number of spare characters that are left in the last message before it overflows (<i>spaceLeftInLast</i>).</p>
<p>This function may be useful in user interfaces to indicate to the user that an SMS message needs to be sent in multiple pieces, costing the user more money.</p>
<h3 class="fn"><a name="dataCodingScheme"></a>int QSMSMessage::dataCodingScheme () const</h3>
<p>Returns the data coding scheme to use within an SMS message. If the value is -1, then the system chooses the best data coding scheme based on the content.</p>
<p>This method is mainly of use with application datagrams, not text SMS messages.</p>
<p>See also <a href="qsmsmessage.html#setDataCodingScheme">setDataCodingScheme</a>().</p>
<h3 class="fn"><a name="destinationPort"></a>int QSMSMessage::destinationPort () const</h3>
<p>Returns the destination port number if this SMS message contains an application datagram, or -1 if not an application datagram.</p>
<p>When an SMS message is received that has a destination port number, Qt Extended will attempt to find a QDS service that can handle it. Qt Extended first looks for a QDS service named <tt>push</tt> for the MIME type <tt>T</tt> from the WAP push header. Next, it looks for a service named <tt>push</tt> for the MIME type <tt>application/x-smsapp-N</tt> where <tt>N</tt> is the port number in decimal.</p>
<p>If a matching service is found, then the SMS message is sent to the corresponding application via QDS. The QCop message is that specified in the QDS service definition. Thus, applications can register to receive special SMS messages.</p>
<p>The following QDS definition, in <tt>etc/qds/ContactsPhone</tt> will direct vcard's that are received via WAP to the <tt>ContactsPhone</tt> service. The <tt>ContactsPhone</tt> service is normally implemented by the <tt>addressbook</tt> program.</p>
<pre>    [Translation]
    File=QtopiaServices
    Context=ContactsPhone
    [pushVCard]
    RequestDataType=text/x-vcard
    ResponseDataType=
    Attributes=&quot;push&quot;
    Description[]=Receive a vcard via WAP push</pre>
<p>The <tt>Attributes</tt> must contain <tt>push</tt> and the <tt>RequestDataType</tt> must be the MIME type to be dispatched. The QCop message that is delivered to the application will have the name <tt>pushVCard(QDSActionRequest)</tt>. The data in the action request will be the payload of the push message.</p>
<p>The auxilary data in the action request will be a <a href="qbytearray.html">QByteArray</a> containing the full <a href="qsmsmessage.html">QSMSMessage</a> object, from which the application can extra header information if it needs it. Use the <a href="qsmsmessage.html">QSMSMessage</a> datastream operators to extract the <a href="qsmsmessage.html">QSMSMessage</a> object.</p>
<p>If the application fails to process an SMS message that is sent to it via QCop, then it will be lost. It is important that such applications take steps to save the message if necessary.</p>
<p>If a matching service is not found, then the SMS message will be delivered to the <tt>qtmail</tt> application normally, and then saved by that application.</p>
<p>See also <a href="qsmsmessage.html#setDestinationPort">setDestinationPort</a>() and <a href="qsmsmessage.html#sourcePort">sourcePort</a>().</p>
<h3 class="fn"><a name="forceGsm"></a>bool QSMSMessage::forceGsm () const</h3>
<p>Returns true if the 7-bit GSM encoding has been forced.</p>
<p>See also <a href="qsmsmessage.html#setForceGsm">setForceGsm</a>().</p>
<h3 class="fn"><a name="fromPdu"></a>QSMSMessage QSMSMessage::fromPdu ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>pdu</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Convert a binary <i>pdu</i> into an SMS message, according to 3GPP TS 03.40 and 3GPP TS 23.040.</p>
<p>See also <a href="qsmsmessage.html#toPdu">toPdu</a>().</p>
<h3 class="fn"><a name="gsmValidityPeriod"></a><a href="qtglobal.html#uint-typedef">uint</a> QSMSMessage::gsmValidityPeriod () const</h3>
<p>Returns the GSM validity period value, between 0 and 255, inclusive.</p>
<p>See also <a href="qsmsmessage.html#setGsmValidityPeriod">setGsmValidityPeriod</a>() and <a href="qsmsmessage.html#setValidityPeriod">setValidityPeriod</a>().</p>
<h3 class="fn"><a name="headers"></a>const <a href="qbytearray.html">QByteArray</a> &amp; QSMSMessage::headers () const</h3>
<p>Returns the SMS message's user data headers.</p>
<p>See also <a href="qsmsmessage.html#setHeaders">setHeaders</a>().</p>
<h3 class="fn"><a name="messageClass"></a>int QSMSMessage::messageClass () const</h3>
<p>Get the message class for this message, or -1 if the system should choose a default message class. The message class should otherwise be 0, 1, 2, or 3, according to 3GPP TS 03.38.</p>
<p>See also <a href="qsmsmessage.html#setMessageClass">setMessageClass</a>().</p>
<h3 class="fn"><a name="messageType"></a><a href="qsmsmessage.html#MessageType-enum">MessageType</a> QSMSMessage::messageType () const</h3>
<p>Returns the SMS message type.</p>
<p>See also <a href="qsmsmessage.html#setMessageType">setMessageType</a>().</p>
<h3 class="fn"><a name="parts"></a><a href="qlist.html">QList</a>&lt;<a href="qsmsmessagepart.html">QSMSMessagePart</a>&gt; QSMSMessage::parts () const</h3>
<p>Returns a list of all body parts in this SMS message.</p>
<p>See also <a href="qsmsmessage.html#clearParts">clearParts</a>(), <a href="qsmsmessage.html#addParts">addParts</a>(), and <a href="qsmsmessage.html#addPart">addPart</a>().</p>
<h3 class="fn"><a name="pduAddressLength"></a>int QSMSMessage::pduAddressLength ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>pdu</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the length of the service center address on the start of <i>pdu</i>. This is typically used with AT-based GSM modems that need to transmit the length of the pdu, excluding the service center address, along with the <tt>AT+CMGS</tt> command.</p>
<h3 class="fn"><a name="protocol"></a>int QSMSMessage::protocol () const</h3>
<p>Returns the SMS message's protocol field.</p>
<p>See also <a href="qsmsmessage.html#setProtocol">setProtocol</a>().</p>
<h3 class="fn"><a name="recipient"></a><a href="qstring.html">QString</a> QSMSMessage::recipient () const</h3>
<p>Returns the recipient's telephone number. Normally <a href="porting4.html">QString</a>() for an incoming message.</p>
<p>See also <a href="qsmsmessage.html#setRecipient">setRecipient</a>().</p>
<h3 class="fn"><a name="replyRequest"></a>bool QSMSMessage::replyRequest () const</h3>
<p>Returns the &quot;reply request&quot; flag.</p>
<p>See also <a href="qsmsmessage.html#setReplyRequest">setReplyRequest</a>().</p>
<h3 class="fn"><a name="sender"></a><a href="qstring.html">QString</a> QSMSMessage::sender () const</h3>
<p>Returns the sender's telephone number. Normally <a href="porting4.html">QString</a>() for an outgoing message.</p>
<p>See also <a href="qsmsmessage.html#setSender">setSender</a>().</p>
<h3 class="fn"><a name="serviceCenter"></a><a href="qstring.html">QString</a> QSMSMessage::serviceCenter () const</h3>
<p>Returns the service center.</p>
<p>See also <a href="qsmsmessage.html#setServiceCenter">setServiceCenter</a>().</p>
<h3 class="fn"><a name="setApplicationData"></a>void QSMSMessage::setApplicationData ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>value</i> )</h3>
<p>Sets the data within an SMS message that contains an application datagram to <i>value</i>.</p>
<p>See also <a href="qsmsmessage.html#applicationData">applicationData</a>().</p>
<h3 class="fn"><a name="setBestScheme"></a>void QSMSMessage::setBestScheme ( QSMSDataCodingScheme <i>scheme</i> )</h3>
<p>Sets the SMS data coding <i>scheme</i> to use for this message. Normally you won't need to call this unless the user has somehow explicitly requested an override. By default, the <a href="qsmsmessage.html">QSMSMessage</a> class will choose the best scheme for you. Should be set to one of <tt>QSMS_DefaultAlphabet</tt>, <tt>QSMS_8BitAlphabet</tt>, or <tt>QSMS_UCS2Alphabet</tt>.</p>
<p>See also <a href="qsmsmessage.html#bestScheme">bestScheme</a>().</p>
<h3 class="fn"><a name="setDataCodingScheme"></a>void QSMSMessage::setDataCodingScheme ( int <i>value</i> )</h3>
<p>Sets the data coding scheme to use within an SMS message to <i>value</i>. If <i>value</i> is -1, then the system chooses the best data coding scheme based on the content.</p>
<p>This method is mainly of use with application datagrams, not text SMS messages.</p>
<p>See also <a href="qsmsmessage.html#dataCodingScheme">dataCodingScheme</a>().</p>
<h3 class="fn"><a name="setDestinationPort"></a>void QSMSMessage::setDestinationPort ( int <i>value</i> )</h3>
<p>Sets the destination port number for an SMS message that contains an application datagram to <i>value</i>.</p>
<p>See also <a href="qsmsmessage.html#destinationPort">destinationPort</a>() and <a href="qsmsmessage.html#sourcePort">sourcePort</a>().</p>
<h3 class="fn"><a name="setForceGsm"></a>void QSMSMessage::setForceGsm ( bool <i>force</i> )</h3>
<p>If <i>force</i> is true, then the codec set by QSMSMessage::setTextCodec is ignored and the 7-bit GSM encoding is always used. Setting this flag increases the number of characters that can be sent in any given SMS message, but may lose information.</p>
<p>See also <a href="qsmsmessage.html#forceGsm">forceGsm</a>().</p>
<h3 class="fn"><a name="setGsmValidityPeriod"></a>void QSMSMessage::setGsmValidityPeriod ( <a href="qtglobal.html#uint-typedef">uint</a> <i>value</i> )</h3>
<p>Sets the GSM validity period to <i>value</i>, which must be between 0 and 255, inclusive. The setValidity() method is a friendlier way to set the validity value.</p>
<p>0 to 143 indicates 0 to 12 hours in 5 minute increments (0 = 5 minutes). 144 to 167 indicates 12 hrs 30 min to 24 hrs in 30 minute increments. 168 to 196 indicates 2 days to 30 days in 1 day increments. 197 to 255 indicates 5 weeks to 63 weeks in 1 week increments.</p>
<p>See also <a href="qsmsmessage.html#gsmValidityPeriod">gsmValidityPeriod</a>() and <a href="qsmsmessage.html#validityPeriod">validityPeriod</a>().</p>
<h3 class="fn"><a name="setHeaders"></a>void QSMSMessage::setHeaders ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>value</i> )</h3>
<p>Sets the SMS message's user data headers to <i>value</i>.</p>
<p>See also <a href="qsmsmessage.html#headers">headers</a>().</p>
<h3 class="fn"><a name="setMessageClass"></a>void QSMSMessage::setMessageClass ( int <i>value</i> )</h3>
<p>Sets the message class for this message to <i>value</i>. The</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QSMSMessage::should</tt></td><td align="center" valign="top">?</td><td valign="top">be -1 if the system should choose a default message class. The message class should otherwise be 0, 1, 2, or 3, according to 3GPP TS 03.38.</td></tr>
</table></p>
<p>See also <a href="qsmsmessage.html#messageClass">messageClass</a>().</p>
<h3 class="fn"><a name="setMessageType"></a>void QSMSMessage::setMessageType ( <a href="qsmsmessage.html#MessageType-enum">MessageType</a> <i>m</i> )&nbsp;&nbsp;<tt> [protected]</tt></h3>
<p>Sets the SMS message type to <i>m</i>. There is rarely any need to set this to something other than <a href="qsmsmessage.html#MessageType-enum">QSMSMessage::Normal</a>.</p>
<p>See also <a href="qsmsmessage.html#messageType">messageType</a>().</p>
<h3 class="fn"><a name="setProtocol"></a>void QSMSMessage::setProtocol ( int <i>value</i> )</h3>
<p>Sets the SMS message's protocol field to <i>value</i>.</p>
<p>See also <a href="qsmsmessage.html#protocol">protocol</a>().</p>
<h3 class="fn"><a name="setRecipient"></a>void QSMSMessage::setRecipient ( const <a href="qstring.html">QString</a> &amp; <i>txt</i> )</h3>
<p>Sets the recipient's telephone number to <i>txt</i>.</p>
<p>See also <a href="qsmsmessage.html#recipient">recipient</a>().</p>
<h3 class="fn"><a name="setReplyRequest"></a>void QSMSMessage::setReplyRequest ( bool <i>on</i> )</h3>
<p>Enable or disable the &quot;reply request&quot; flag for this SMS message, according to the value of <i>on</i>.</p>
<p>See also <a href="qsmsmessage.html#replyRequest">replyRequest</a>().</p>
<h3 class="fn"><a name="setSender"></a>void QSMSMessage::setSender ( const <a href="qstring.html">QString</a> &amp; <i>txt</i> )</h3>
<p>Sets the sender's telephone number to <i>txt</i>.</p>
<p>See also <a href="qsmsmessage.html#sender">sender</a>().</p>
<h3 class="fn"><a name="setServiceCenter"></a>void QSMSMessage::setServiceCenter ( const <a href="qstring.html">QString</a> &amp; <i>str</i> )</h3>
<p>Sets the service center to use for transmitting this SMS message, or <a href="porting4.html">QString</a>() for the default service center, to <i>str</i>.</p>
<p>See also <a href="qsmsmessage.html#serviceCenter">serviceCenter</a>().</p>
<h3 class="fn"><a name="setSourcePort"></a>void QSMSMessage::setSourcePort ( int <i>value</i> )</h3>
<p>Sets the source port number for an SMS message that contains an application datagram to <i>value</i>.</p>
<p>See also <a href="qsmsmessage.html#sourcePort">sourcePort</a>() and <a href="qsmsmessage.html#destinationPort">destinationPort</a>().</p>
<h3 class="fn"><a name="setStatusReportRequested"></a>void QSMSMessage::setStatusReportRequested ( bool <i>on</i> )</h3>
<p>Sets the status report requested flag to <i>on</i>.</p>
<p>See also <a href="qsmsmessage.html#statusReportRequested">statusReportRequested</a>().</p>
<h3 class="fn"><a name="setText"></a>void QSMSMessage::setText ( const <a href="qstring.html">QString</a> &amp; <i>str</i> )</h3>
<p>Sets the contents of this <a href="qsmsmessage.html">QSMSMessage</a> to a single plain text body containing <i>str</i>. This is for simple messages only. Complex messages should be constructed part by part using the <a href="qsmsmessage.html#addPart">addPart</a>() method.</p>
<p>See also <a href="qsmsmessage.html#text">text</a>().</p>
<h3 class="fn"><a name="setTextCodec"></a>void QSMSMessage::setTextCodec ( <a href="qtextcodec.html">QTextCodec</a> * <i>codec</i> )</h3>
<p>If the message consists solely of characters in the 7-bit GSM encoding, then the message will be transmitted that way. Otherwise <i>codec</i> is used to convert the characters into an appropriate language-specific 8-bit encoding. If <i>codec</i> is set to NULL, then the default UCS-2 encoding for GSM messages is used.</p>
<p>See also <a href="qsmsmessage.html#textCodec">textCodec</a>().</p>
<h3 class="fn"><a name="setTimestamp"></a>void QSMSMessage::setTimestamp ( const <a href="qdatetime.html">QDateTime</a> &amp; <i>timestamp</i> )</h3>
<p>Sets the SMS message's <i>timestamp</i>.</p>
<p>See also <a href="qsmsmessage.html#timestamp">timestamp</a>().</p>
<h3 class="fn"><a name="setValidityPeriod"></a>void QSMSMessage::setValidityPeriod ( <a href="qtglobal.html#uint-typedef">uint</a> <i>minutes</i> )</h3>
<p>Sets the validity period to <i>minutes</i>. The default is 2 days. If the value is set to <tt>(uint)(-1)</tt>, it indicates that the message should have no validity period specified.</p>
<p>See also <a href="qsmsmessage.html#validityPeriod">validityPeriod</a>() and <a href="qsmsmessage.html#gsmValidityPeriod">gsmValidityPeriod</a>().</p>
<h3 class="fn"><a name="shouldSplit"></a>bool QSMSMessage::shouldSplit () const</h3>
<p>Returns true if this message needs to be split into multiple messages before being transmitted over a GSM network; otherwise returns false.</p>
<p>See also <a href="qsmsmessage.html#split">split</a>().</p>
<h3 class="fn"><a name="sourcePort"></a>int QSMSMessage::sourcePort () const</h3>
<p>Returns the source port number if this SMS message contains an application datagram, or -1 if not an application datagram.</p>
<p>See also <a href="qsmsmessage.html#setSourcePort">setSourcePort</a>() and <a href="qsmsmessage.html#destinationPort">destinationPort</a>().</p>
<h3 class="fn"><a name="split"></a><a href="qlist.html">QList</a>&lt;QSMSMessage&gt; QSMSMessage::split () const</h3>
<p>Split this message into several messages of smaller size for transmission over a GSM network.</p>
<p>See also <a href="qsmsmessage.html#shouldSplit">shouldSplit</a>().</p>
<h3 class="fn"><a name="statusReportRequested"></a>bool QSMSMessage::statusReportRequested () const</h3>
<p>Returns true if status report requested flag is currently set;otherwise returns false.</p>
<p>See also <a href="qsmsmessage.html#setStatusReportRequested">setStatusReportRequested</a>().</p>
<h3 class="fn"><a name="text"></a><a href="qstring.html">QString</a> QSMSMessage::text () const</h3>
<p>Returns the contents of this <a href="qsmsmessage.html">QSMSMessage</a> as a single plain text string. If the message contains binary parts, they will not appear in the result. This is for simple message viewers only. Complex message viewers should iterate over the list returned by <a href="qsmsmessage.html#parts">parts</a>().</p>
<p>See also <a href="qsmsmessage.html#setText">setText</a>().</p>
<h3 class="fn"><a name="textCodec"></a><a href="qtextcodec.html">QTextCodec</a> * QSMSMessage::textCodec () const</h3>
<p>Returns the current 8-bit text codec, or NULL if none has been set.</p>
<p>See also <a href="qsmsmessage.html#setTextCodec">setTextCodec</a>().</p>
<h3 class="fn"><a name="timestamp"></a><a href="qdatetime.html">QDateTime</a> QSMSMessage::timestamp () const</h3>
<p>Returns the SMS message's timestamp, which will be null if the message does not have a timestamp.</p>
<p>See also <a href="qsmsmessage.html#setTimestamp">setTimestamp</a>().</p>
<h3 class="fn"><a name="toPdu"></a><a href="qbytearray.html">QByteArray</a> QSMSMessage::toPdu () const</h3>
<p>Convert this SMS message into its binary PDU form, according to 3GPP TS 03.40 and 3GPP TS 23.040. If the message has a recipient, then a SUBMIT message will be constructed. If the message does not have a recipient, then a DELIVER message will be constructed.</p>
<p>See also <a href="qsmsmessage.html#fromPdu">fromPdu</a>().</p>
<h3 class="fn"><a name="validityPeriod"></a><a href="qtglobal.html#uint-typedef">uint</a> QSMSMessage::validityPeriod () const</h3>
<p>Returns the validity period in minutes for this message. The default is 2 days. If the value is <tt>(uint)(-1)</tt>, it indicates that the message should have no validity period specified.</p>
<p>See also <a href="qsmsmessage.html#setValidityPeriod">setValidityPeriod</a>() and <a href="qsmsmessage.html#setGsmValidityPeriod">setGsmValidityPeriod</a>().</p>
<h3 class="fn"><a name="operator-eq"></a>QSMSMessage &amp; QSMSMessage::operator= ( const QSMSMessage &amp; <i>msg</i> )</h3>
<p>Assigns a copy of <i>msg</i> to this object.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

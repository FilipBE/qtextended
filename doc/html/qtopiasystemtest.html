<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QtopiaSystemTest Namespace Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QtopiaSystemTest Namespace Reference<br /><span class="small-subtitle">[<a href="qtuitestmodule.html">QtUiTestModule</a>]</span>
</h1>
<p>The QtopiaSystemTest namespace provides script based system test functionality for Qt Extended. <a href="#details">More...</a></p>
<pre>    #include &lt;QtopiaSystemTest&gt;</pre><p><b>This namespace is under development and is subject to change.</b></p>
<ul>
</ul>
<a name="types"></a>
<h3>Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qtopiasystemtest.html#MemoryType-enum">MemoryType</a></b> { NoMemoryType, TotalMemory, FreeMemory, EffectiveFreeMemory, ..., InactiveMemory }</li>
<li><div class="fn"/>flags <b><a href="qtopiasystemtest.html#MemoryType-enum">MemoryTypes</a></b></li>
<li><div class="fn"/>enum <b><a href="qtopiasystemtest.html#SampledMemoryInfoFlag-enum">SampledMemoryInfoFlag</a></b> { NoSampledMemoryInfoFlags, SampleMinimum, SampleMaximum, SampleMean, SampleFile, SampleLine }</li>
<li><div class="fn"/>flags <b><a href="qtopiasystemtest.html#SampledMemoryInfoFlag-enum">SampledMemoryInfoFlags</a></b></li>
<li><div class="fn"/>enum <b><a href="qtopiasystemtest.html#VersionType-enum">VersionType</a></b> { QtVersion, QtExtendedVersion, KernelVersion }</li>
</ul>
<a name="functions"></a>
<h3>Functions</h3>
<ul>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#backgroundAndGotoHome">backgroundAndGotoHome</a></b> ()</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#callAccept">callAccept</a></b> ()</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#callHangup">callHangup</a></b> ()</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#documentsPath">documentsPath</a></b> ()</li>
<li><div class="fn"/>Number <b><a href="qtopiasystemtest.html#getMemoryInfo">getMemoryInfo</a></b> ( MemoryTypes <i>type</i> )</li>
<li><div class="fn"/>QVariant <b><a href="qtopiasystemtest.html#getSampledMemoryInfo">getSampledMemoryInfo</a></b> ( MemoryTypes <i>types</i>, SampledMemoryInfoFlags <i>flags</i> )</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#getVersion">getVersion</a></b> ( VersionType <i>type</i> = QtExtendedVersion )</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#gotoHome">gotoHome</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#ipcSend">ipcSend</a></b> ( String <i>channel</i>, String <i>message</i>, QVariant <i>arg0</i> = null, QVariant <i>arg1</i> = null, QVariant <i>arg2</i> = null, QVariant <i>arg3</i> = null, QVariant <i>arg4</i> = null, QVariant <i>arg5</i> = null, QVariant <i>arg6</i> = null, QVariant <i>arg7</i> = null, QVariant <i>arg8</i> = null, QVariant <i>arg9</i> = null )</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#launcherMenu">launcherMenu</a></b> ()</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#optionsMenu">optionsMenu</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#reboot">reboot</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#restartQtopia">restartQtopia</a></b> ()</li>
<li><div class="fn"/>Boolean <b><a href="qtopiasystemtest.html#runsOnDevice">runsOnDevice</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#shutdownQtopia">shutdownQtopia</a></b> ()</li>
<li><div class="fn"/>String <b><a href="qtopiasystemtest.html#softMenu">softMenu</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#startApplication">startApplication</a></b> ( String <i>application</i>, Number <i>timeout</i> = 30000, QSystemTest::StartApplicationFlags <i>flags</i> = QSystemTest::WaitForFocus )</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#startSamplingMemory">startSamplingMemory</a></b> ( Number <i>interval</i> = 500 )</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#stopSamplingMemory">stopSamplingMemory</a></b> ()</li>
<li><div class="fn"/>QtopiaSystemTestModem <b><a href="qtopiasystemtest.html#testModem">testModem</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#waitForCurrentApplication">waitForCurrentApplication</a></b> ( String <i>application</i>, Number <i>timeout</i> = 10000 )</li>
<li><div class="fn"/>void <b><a href="qtopiasystemtest.html#waitForQtopiaStart">waitForQtopiaStart</a></b> ( Number <i>timeout</i> = 60000 )</li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QtopiaSystemTest namespace provides script based system test functionality for Qt Extended.</p>
<p>This documentation describes the API reference for the <a href="qtuitest.html">QtUiTest</a> scripting language. Please read the <a href="qtuitest-manual.html">QtUiTest Manual</a> for a full description of the system test tool.</p>
<p>All system tests which make use of the QtopiaSystemTest namespace also have access to the <a href="qsystemtest.html">QSystemTest</a> namespace.</p>
<hr />
<h2>Type Documentation</h2>
<h3 class="flags"><a name="MemoryType-enum"></a>enum QtopiaSystemTest::MemoryType<br />flags QtopiaSystemTest::MemoryTypes</h3>
<p>This enum specifies which type of memory to measure when using the memory related performance functions.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::NoMemoryType</tt></td><td align="center" valign="top"><tt>0x00</tt></td><td valign="top">Refers to no memory at all.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::TotalMemory</tt></td><td align="center" valign="top"><tt>0x01</tt></td><td valign="top">The total physical memory available to the test system.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::FreeMemory</tt></td><td align="center" valign="top"><tt>0x02</tt></td><td valign="top">The free memory available to the test system. Note that most operating systems, including Linux, will intentionally consume almost all free memory in buffers and caches, to improve filesystem performance. Therefore, the value returned by FreeMemory will usually be very low. A better measure of the effectively free memory can be obtained by using EffectiveFreeMemory.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::EffectiveFreeMemory</tt></td><td align="center" valign="top"><tt>FreeMemory | CacheMemory | BuffersMemory</tt></td><td valign="top">The memory which is either free, or used by the kernel in such a way that it can probably be easily freed if an application requests more memory.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::BuffersMemory</tt></td><td align="center" valign="top"><tt>0x04</tt></td><td valign="top">Memory currently consumed in kernel buffers. The kernel is usually able to easily free most of this memory if an application requests more memory.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::CacheMemory</tt></td><td align="center" valign="top"><tt>0x08</tt></td><td valign="top">Memory currently consumed in filesystem caches. The kernel is usually able to easily free most of this memory if an application requests more memory.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::ActiveMemory</tt></td><td align="center" valign="top"><tt>0x10</tt></td><td valign="top">Memory currently considered active by the kernel. &quot;Active&quot; memory typically refers to memory that would take some effort for the kernel to free.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::InactiveMemory</tt></td><td align="center" valign="top"><tt>0x20</tt></td><td valign="top">Memory currently considered inactive by the kernel. &quot;Inactive&quot; memory typically refers to memory that is backed by disk or able to be discarded easily by the kernel.</td></tr>
</table></p>
<p>The MemoryTypes type is a typedef for <a href="qflags.html">QFlags</a>&lt;MemoryType&gt;. It stores an OR combination of MemoryType values.</p>
<h3 class="flags"><a name="SampledMemoryInfoFlag-enum"></a>enum QtopiaSystemTest::SampledMemoryInfoFlag<br />flags QtopiaSystemTest::SampledMemoryInfoFlags</h3>
<p>This enum specifies which data to retrieve from the recorded memory usage information when using the <a href="qtopiasystemtest.html#getSampledMemoryInfo">getSampledMemoryInfo</a>() function.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::NoSampledMemoryInfoFlags</tt></td><td align="center" valign="top"><tt>0x00000000</tt></td><td valign="top">No flags.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::SampleMinimum</tt></td><td align="center" valign="top"><tt>0x00000001</tt></td><td valign="top">Return the minimum sampled value.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::SampleMaximum</tt></td><td align="center" valign="top"><tt>0x00000002</tt></td><td valign="top">Return the maximum sampled value.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::SampleMean</tt></td><td align="center" valign="top"><tt>0x00000004</tt></td><td valign="top">Return the mean of all sampled values. Note that this flag cannot be used with SampleFile or SampleLine.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::SampleFile</tt></td><td align="center" valign="top"><tt>0x00010000</tt></td><td valign="top">Return the file containing the test script which was running at the time this sample was taken.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::SampleLine</tt></td><td align="center" valign="top"><tt>0x00020000</tt></td><td valign="top">Return the line number of the test script at the time this sample was taken.</td></tr>
</table></p>
<p>The SampledMemoryInfoFlags type is a typedef for <a href="qflags.html">QFlags</a>&lt;SampledMemoryInfoFlag&gt;. It stores an OR combination of SampledMemoryInfoFlag values.</p>
<h3 class="fn"><a name="VersionType-enum"></a>enum QtopiaSystemTest::VersionType</h3>
<p>This enum specifies which version is returned by <a href="qtopiasystemtest.html#getVersion">getVersion</a>().</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::QtVersion</tt></td><td align="center" valign="top"><tt>0x00</tt></td><td valign="top">The version of Qt used on the test system.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::QtExtendedVersion</tt></td><td align="center" valign="top"><tt>0x01</tt></td><td valign="top">The version of Qt Extended used on the test system.</td></tr>
<tr><td valign="top"><tt>QtopiaSystemTest::KernelVersion</tt></td><td align="center" valign="top"><tt>0x02</tt></td><td valign="top">The version of the Linux kernel used on the test system.</td></tr>
</table></p>
<hr />
<h2>Function Documentation</h2>
<h3 class="fn"><a name="backgroundAndGotoHome"></a>void QtopiaSystemTest::backgroundAndGotoHome ()</h3>
<p>Background all currently running applications and return to the Home screen.</p>
<p>See also <a href="qtuitest-manual.html#application-management">Application Management</a>.</p>
<h3 class="fn"><a name="callAccept"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::callAccept ()</h3>
<p>Returns an alias that will be resolved by Qt Extended to activate the callAccept function, either by simulating a Call-Accept keyclick or by selecting a Call Accept somehow on a touchscreen. Example:</p>
<pre>    select(callAccept()); <span class="comment">// presses the CallAccept button</span></pre>
<p>The test will fail if no Call Accept can be simulated.</p>
<p>See also <a href="qtopiasystemtest.html#optionsMenu">optionsMenu</a>(), <a href="qtopiasystemtest.html#softMenu">softMenu</a>(), and <a href="qtopiasystemtest.html#callHangup">callHangup</a>().</p>
<h3 class="fn"><a name="callHangup"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::callHangup ()</h3>
<p>Returns an alias that will be resolved by Qt Extended to activate the callHangup function, either by simulating a Call-Hangup keyclick or by selecting a Call Hangup somehow on a touchscreen. Example:</p>
<pre>    select(callHangup()); <span class="comment">// presses the CallHangup button</span></pre>
<p>The test will fail if no Call Hangup can be simulated.</p>
<p>See also <a href="qtopiasystemtest.html#optionsMenu">optionsMenu</a>(), <a href="qtopiasystemtest.html#softMenu">softMenu</a>(), and <a href="qtopiasystemtest.html#callAccept">callAccept</a>().</p>
<h3 class="fn"><a name="documentsPath"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::documentsPath ()</h3>
<p>Returns the path of the documents directory on the test system.</p>
<p>Example:</p>
<pre><span class="comment">    // Put a test image into the image directory in documents on the test system.</span>
    putFile( baseDataPath() + &quot;tiger.jpg&quot;, documentsPath() + &quot;image/tiger.jpg&quot;);</pre>
<p>See also <a href="qsystemtest.html#getFile">QSystemTest::getFile</a>(), <a href="qsystemtest.html#putFile">QSystemTest::putFile</a>(), <a href="qsystemtest.html#getData">QSystemTest::getData</a>(), <a href="qsystemtest.html#putData">QSystemTest::putData</a>(), and <a href="qtuitest-manual.html#file-management">File Management</a>.</p>
<h3 class="fn"><a name="getMemoryInfo"></a><a href="qsystemtest.html#Number-typedef">Number</a> QtopiaSystemTest::getMemoryInfo ( <a href="qtopiasystemtest.html#MemoryType-enum">MemoryTypes</a> <i>type</i> )</h3>
<p>Measure and return the current memory usage, in kilobytes, on the test system for memory of the given <i>type</i>.</p>
<p>If <i>type</i> is a flag containing multiple types, the memory usage of the desired types will be added together.</p>
<p>Example:</p>
<pre><span class="comment">    // Get the amount of effectively free memory on the system.</span>
    function freeMemory() {
        return getMemoryInfo(FreeMemory|BuffersMemory|CacheMemory);
    }</pre>
<p>It is not necessary to call <a href="qtopiasystemtest.html#startSamplingMemory">startSamplingMemory</a>() before using this function.</p>
<p>See also <a href="qtopiasystemtest.html#startSamplingMemory">startSamplingMemory</a>(), <a href="qtopiasystemtest.html#stopSamplingMemory">stopSamplingMemory</a>(), and <a href="qtopiasystemtest.html#getSampledMemoryInfo">getSampledMemoryInfo</a>().</p>
<h3 class="fn"><a name="getSampledMemoryInfo"></a><a href="qvariant.html">QVariant</a> QtopiaSystemTest::getSampledMemoryInfo ( <a href="qtopiasystemtest.html#MemoryType-enum">MemoryTypes</a> <i>types</i>, <a href="qtopiasystemtest.html#SampledMemoryInfoFlag-enum">SampledMemoryInfoFlags</a> <i>flags</i> )</h3>
<p>Get information about sampled memory for the specified memory <i>types</i>, using the given <i>flags</i> to decide what data to return.</p>
<p>Use <a href="qtopiasystemtest.html#startSamplingMemory">startSamplingMemory</a>(), <a href="qtopiasystemtest.html#stopSamplingMemory">stopSamplingMemory</a>() and this function to measure the effective memory usage of particular use cases of Qt Extended.</p>
<p>For example:</p>
<pre>    spin_the_yoyo: function() {
        var total_memory = getMemoryInfo(TotalMemory);

        <span class="comment">// Ensure we start measuring from the home screen</span>
        gotoHome();
        startSamplingMemory(500);

        <span class="comment">// Spin the yoyo</span>
        startApplication(&quot;yoyo-manager&quot;);
        select(&quot;Spin&quot;);
        waitForTitle(&quot;Spin complete&quot;);

        <span class="comment">// Measure the memory used to spin the yoyo</span>
        stopSamplingMemory();
        var min_free = getSampledMemoryInfo(EffectiveFreeMemory, SampleMinimum);
        var min_free_line = getSampledMemoryInfo(EffectiveFreeMemory, SampleMinimum|SampleLine);
        print(&quot;Max used memory: &quot; + (total_memory - min_free) + &quot; Kb, at line &quot; + min_free_line);
    }</pre>
<h3 class="fn"><a name="getVersion"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::getVersion ( <a href="qtopiasystemtest.html#VersionType-enum">VersionType</a> <i>type</i> = QtExtendedVersion )</h3>
<p>Returns the version number specified by <i>type</i>.</p>
<p>Example:</p>
<pre>    print( &quot;Qt Extended Version: &quot; + getVersion(QtExtendedVersion) );
    print( &quot;Qt Version:          &quot; + getVersion(QtVersion) );
    print( &quot;Linux Version:       &quot; + getVersion(KernelVersion) );</pre>
<h3 class="fn"><a name="gotoHome"></a>void QtopiaSystemTest::gotoHome ()</h3>
<p>Close all currently running applications and return to the Home screen.</p>
<p>See also <a href="qtuitest-manual.html#application-management">Application Management</a>.</p>
<h3 class="fn"><a name="ipcSend"></a>void QtopiaSystemTest::ipcSend ( <a href="qsystemtest.html#String-typedef">String</a> <i>channel</i>, <a href="qsystemtest.html#String-typedef">String</a> <i>message</i>, <a href="qvariant.html">QVariant</a> <i>arg0</i> = null, <a href="qvariant.html">QVariant</a> <i>arg1</i> = null, <a href="qvariant.html">QVariant</a> <i>arg2</i> = null, <a href="qvariant.html">QVariant</a> <i>arg3</i> = null, <a href="qvariant.html">QVariant</a> <i>arg4</i> = null, <a href="qvariant.html">QVariant</a> <i>arg5</i> = null, <a href="qvariant.html">QVariant</a> <i>arg6</i> = null, <a href="qvariant.html">QVariant</a> <i>arg7</i> = null, <a href="qvariant.html">QVariant</a> <i>arg8</i> = null, <a href="qvariant.html">QVariant</a> <i>arg9</i> = null )</h3>
<p>Send an IPC <i>message</i> on a Qt Extended IPC <i>channel</i>. The optional arguments <i>arg0</i>, <i>arg1</i>, <i>arg2</i>, <i>arg3</i>, <i>arg4</i>, <i>arg5</i>, <i>arg6</i>, <i>arg7</i>, <i>arg8</i> and <i>arg9</i> are arguments to the IPC message.</p>
<p>Example:</p>
<pre><span class="comment">    // Put a new document on the system and force a document rescan</span>
    putFile(&quot;testdata/mydoc.txt&quot;, &quot;$HOME/Documents/mydoc.txt&quot;);
    ipcSend(&quot;QPE/DocAPI&quot;, &quot;scanPath(QString,int)&quot;, &quot;all&quot;, 1);</pre>
<h3 class="fn"><a name="launcherMenu"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::launcherMenu ()</h3>
<p>Returns an alias that will be resolved by Qt Extended to find the Launcher Menu. Example:</p>
<pre>    select( &quot;Contacts&quot;, launcherMenu() );</pre>
<p>See also <a href="qtopiasystemtest.html#softMenu">softMenu</a>(), <a href="qtopiasystemtest.html#callAccept">callAccept</a>(), and <a href="qtopiasystemtest.html#callHangup">callHangup</a>().</p>
<h3 class="fn"><a name="optionsMenu"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::optionsMenu ()</h3>
<p>Returns an alias that will be resolved by Qt Extended to find the Options Menu. Example:</p>
<pre>    select( &quot;New&quot;, optionsMenu() ); <span class="comment">// select the item with text 'New' from the options menu</span>
    print( signature(optionsMenu()) ); <span class="comment">// to print the name of the resolved widget.</span></pre>
<p>Note that 'signature(optionsMenu())' incurs an extra roundtrip and should only be used in exceptional cases.</p>
<p>The test will fail if no options menu can be activated, or if multiple option menus are found.</p>
<p>See also <a href="qtopiasystemtest.html#softMenu">softMenu</a>(), <a href="qtopiasystemtest.html#callAccept">callAccept</a>(), and <a href="qtopiasystemtest.html#callHangup">callHangup</a>().</p>
<h3 class="fn"><a name="reboot"></a>void QtopiaSystemTest::reboot ()</h3>
<p>Reboot the device running Qt Extended.</p>
<p>This method instructs QPE to reboot the device in the same way as the &quot;Reboot&quot; option in the shutdown dialog. Whether or not this method succeeds depends on how QPE was launched and the permissions of the user account under which it is running.</p>
<p>Example:</p>
<pre><span class="comment">    // Start performance testing, and reboot Qt Extended to get the cold startup time of Qt Extended setSetting(&quot;$HOME/Settings/Trolltech/StartupFlags.conf&quot;, &quot;PerfTest&quot;, &quot;State&quot;, 1);</span>
    reboot();</pre>
<p>See also <a href="qtopiasystemtest.html#restartQtopia">restartQtopia</a>() and <a href="qtuitest-manual.html#application-management">Application Management</a>.</p>
<h3 class="fn"><a name="restartQtopia"></a>void QtopiaSystemTest::restartQtopia ()</h3>
<p>Restart Qtopia.</p>
<p>This method instructs QPE to restart in the same way as the &quot;Restart&quot; option in the shutdown dialog. This is actually implemented by simply closing QPE and relying on the script which started it to restart it. Hence whether or not this method succeeds depends on how QPE was launched.</p>
<p>Example:</p>
<pre><span class="comment">    // Restore Greenphone to factory defaults for the next test</span>
    setSetting(&quot;$HOME/Settings/Trolltech/StartupFlags.conf&quot;, &quot;RestoreDefaults&quot;, &quot;State&quot;, 1);
    restartQtopia();
<span class="comment">    // Put back the setting so we don't restore to factory defaults after next restart</span>
    setSetting(&quot;$HOME/Settings/Trolltech/StartupFlags.conf&quot;, &quot;RestoreDefaults&quot;, &quot;State&quot;, 0);</pre>
<p>See also <a href="qtopiasystemtest.html#reboot">reboot</a>() and <a href="qtuitest-manual.html#application-management">Application Management</a>.</p>
<h3 class="fn"><a name="runsOnDevice"></a><a href="qsystemtest.html#Boolean-typedef">Boolean</a> QtopiaSystemTest::runsOnDevice ()</h3>
<p>Returns true if the test is running on an actual device, and false if it is running in a virtual framebuffer (on the desktop machine).</p>
<h3 class="fn"><a name="shutdownQtopia"></a>void QtopiaSystemTest::shutdownQtopia ()</h3>
<p>Shut down Qtopia.</p>
<h3 class="fn"><a name="softMenu"></a><a href="qsystemtest.html#String-typedef">String</a> QtopiaSystemTest::softMenu ()</h3>
<p>Returns an alias that will be resolved by Qt Extended to find the Soft Menu. Example:</p>
<pre>    select( &quot;Help&quot;, softMenu() ); <span class="comment">// select the item with text 'Help' from the soft menu</span>
    print( signature(softMenu()) ); <span class="comment">// to print the name of the resolved widget.</span></pre>
<p>Note that 'signature(softMenu())' incurs an extra roundtrip and should only be used in exceptional cases.</p>
<p>The test will fail if no visible soft menu is found, or if multiple soft menus are found.</p>
<p>See also <a href="qtopiasystemtest.html#callAccept">callAccept</a>() and <a href="qtopiasystemtest.html#callHangup">callHangup</a>().</p>
<h3 class="fn"><a name="startApplication"></a>void QtopiaSystemTest::startApplication ( <a href="qsystemtest.html#String-typedef">String</a> <i>application</i>, <a href="qsystemtest.html#Number-typedef">Number</a> <i>timeout</i> = 30000, <a href="qsystemtest.html#StartApplicationFlag-enum">QSystemTest::StartApplicationFlags</a> <i>flags</i> = QSystemTest::WaitForFocus )</h3>
<p>Start the specified <i>application</i>.</p>
<p><i>application</i> can be the name of a binary to execute on the test system (e.g&#x2e; 'addressbook') or the full name of an application as shown in the launcher grid (e.g&#x2e; 'Contacts'). The application must connect to the test framework within <i>timeout</i> ms or the test fails.</p>
<p><i>flags</i> specifies additional behaviour.</p>
<p>The application will be launched by sending a Qt Extended IPC message. To simulate launching an application by key clicks, use select( &lt;appname&gt;, <a href="qtopiasystemtest.html#launcherMenu">launcherMenu</a>() ).</p>
<p>Example:</p>
<pre><span class="comment">    // Start several apps and keep them in the background</span>
    startApplication(&quot;Notes&quot;, 1000, BackgroundCurrentApplication);
    startApplication(&quot;Contacts&quot;, 1000, BackgroundCurrentApplication);
    startApplication(&quot;todolist&quot;, 1000, BackgroundCurrentApplication);

<span class="comment">    // Now start btsettings without Background, which means all current apps</span>
<span class="comment">    // will be exited.</span>
    startApplication(&quot;btsettings&quot;);</pre>
<p>See also <a href="qtuitest-manual.html#application-management">Application Management</a>.</p>
<h3 class="fn"><a name="startSamplingMemory"></a>void QtopiaSystemTest::startSamplingMemory ( <a href="qsystemtest.html#Number-typedef">Number</a> <i>interval</i> = 500 )</h3>
<p>Start sampling memory at fixed intervals.</p>
<p>Every <i>interval</i> milliseconds, the current memory usage will be sampled and stored. Once sampling has finished, the data can be retrieved using <a href="qtopiasystemtest.html#getSampledMemoryInfo">getSampledMemoryInfo</a>().</p>
<p>Each memory sample causes network traffic between the system test and Qt Extended. Therefore, using an extremely small interval will have a negative impact on performance.</p>
<p>See also <a href="qtopiasystemtest.html#stopSamplingMemory">stopSamplingMemory</a>(), <a href="qtopiasystemtest.html#getMemoryInfo">getMemoryInfo</a>(), and <a href="qtopiasystemtest.html#getSampledMemoryInfo">getSampledMemoryInfo</a>().</p>
<h3 class="fn"><a name="stopSamplingMemory"></a>void QtopiaSystemTest::stopSamplingMemory ()</h3>
<p>Stop sampling memory.</p>
<p>See also <a href="qtopiasystemtest.html#startSamplingMemory">startSamplingMemory</a>(), <a href="qtopiasystemtest.html#getMemoryInfo">getMemoryInfo</a>(), and <a href="qtopiasystemtest.html#getSampledMemoryInfo">getSampledMemoryInfo</a>().</p>
<h3 class="fn"><a name="testModem"></a><a href="qtopiasystemtestmodem.html">QtopiaSystemTestModem</a> QtopiaSystemTest::testModem ()</h3>
<p>Get the <a href="qtopiasystemtestmodem.html">QtopiaSystemTestModem</a> currently used as the modem device.</p>
<p>If Qt Extended is not currently connected to a <a href="qtopiasystemtestmodem.html">QtopiaSystemTestModem</a>, Qt Extended will be restarted and forced to connect to a new <a href="qtopiasystemtestmodem.html">QtopiaSystemTestModem</a>, which will be returned.</p>
<p>The returned <a href="qtopiasystemtestmodem.html">QtopiaSystemTestModem</a> may be explicitly deleted if desired. Otherwise, it will be destroyed when the system test completes. In either case, when the <a href="qtopiasystemtestmodem.html">QtopiaSystemTestModem</a> is destroyed, Qt Extended will be restarted and will no longer connect to the simulated modem.</p>
<p>Example:</p>
<pre><span class="comment">    // Change operator name from within a system test</span>
    QVERIFY( testModem() );
    testModem()-&gt;setVariable(&quot;OP&quot;, &quot;Qt Extended Comms&quot;);
    testModem()-&gt;send(&quot;+CREG: 5&quot;);</pre>
<p>See also <a href="qtopiasystemtest.html#restartQtopia">restartQtopia</a>() and <a href="qtuitest-manual.html#telephony-simulation">Telephony Simulation</a>.</p>
<h3 class="fn"><a name="waitForCurrentApplication"></a>void QtopiaSystemTest::waitForCurrentApplication ( <a href="qsystemtest.html#String-typedef">String</a> <i>application</i>, <a href="qsystemtest.html#Number-typedef">Number</a> <i>timeout</i> = 10000 )</h3>
<p>Returns true if the specified <i>application</i> gains focus within <i>timeout</i> milliseconds.</p>
<h3 class="fn"><a name="waitForQtopiaStart"></a>void QtopiaSystemTest::waitForQtopiaStart ( <a href="qsystemtest.html#Number-typedef">Number</a> <i>timeout</i> = 60000 )</h3>
<p>Waits up to <i>timeout</i> milliseconds for Qt Extended to become fully initialized. On the desktop, the first call to this function will start Qt Extended using the runqtopia script.</p>
<p>Once initialized:</p>
<ul>
<li>the Date format will be set to 'D/M/Y'.</li>
<li>the Time format will be set to 24 hour.</li>
</ul>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

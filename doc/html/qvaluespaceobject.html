<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QValueSpaceObject Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QValueSpaceObject Class Reference<br /><span class="small-subtitle">[<a href="qtbasemodule.html">QtBaseModule</a>]</span>
</h1>
<p>The QValueSpaceObject class allows applications to add entries to the Value Space. <a href="#details">More...</a></p>
<pre>    #include &lt;QValueSpaceObject&gt;</pre><p>Inherits <a href="qobject.html">QObject</a>.</p>
<ul>
<li><a href="qvaluespaceobject-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qvaluespaceobject.html#QValueSpaceObject">QValueSpaceObject</a></b> ( const QByteArray &amp; <i>objectPath</i>, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qvaluespaceobject.html#QValueSpaceObject-2">QValueSpaceObject</a></b> ( const char * <i>objectPath</i>, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qvaluespaceobject.html#QValueSpaceObject-3">QValueSpaceObject</a></b> ( const QString &amp; <i>objectPath</i>, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qvaluespaceobject.html#dtor.QValueSpaceObject">~QValueSpaceObject</a></b> ()</li>
<li><div class="fn"/>QString <b><a href="qvaluespaceobject.html#objectPath">objectPath</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h3>Public Slots</h3>
<ul>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#removeAttribute">removeAttribute</a></b> ( const QByteArray &amp; <i>attribute</i> )</li>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#removeAttribute-2">removeAttribute</a></b> ( const QString &amp; <i>attribute</i> )</li>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#removeAttribute-3">removeAttribute</a></b> ( const char * <i>attribute</i> )</li>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#setAttribute">setAttribute</a></b> ( const QByteArray &amp; <i>attribute</i>, const QVariant &amp; <i>data</i> )</li>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#setAttribute-2">setAttribute</a></b> ( const char * <i>attribute</i>, const QVariant &amp; <i>data</i> )</li>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#setAttribute-3">setAttribute</a></b> ( const QString &amp; <i>attribute</i>, const QVariant &amp; <i>data</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#itemRemove">itemRemove</a></b> ( const QByteArray &amp; <i>attribute</i> )</li>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#itemSetValue">itemSetValue</a></b> ( const QByteArray &amp; <i>attribute</i>, const QVariant &amp; <i>value</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<a name="static-public-members"></a>
<h3>Static Public Members</h3>
<ul>
<li><div class="fn"/>void <b><a href="qvaluespaceobject.html#sync">sync</a></b> ()</li>
</ul>
<ul>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QValueSpaceObject class allows applications to add entries to the Value Space.</p>
<p>For an overview of the Qt Extended Value Space, please see the <a href="qvaluespaceitem.html">QValueSpaceItem</a> documentation.</p>
<p>The QValueSpaceObject class allows applications to write entries into the Value Space that are automatically removed when the QValueSpaceObject is destroyed, or the application exits either cleanly or abnormally. All applications in the system will have access to the data set through QValueSpaceObject and, if desired, can be notified when the data changes.</p>
<p>Although, logically, the Value Space is a simple collection of hierarchical paths, these paths can conceptually be visualized as a set of objects with attributes. For example, rather than viewing the following list as 12 distinct Value Space paths:</p>
<pre>    /Device/Network/Interfaces/eth0/Name
    /Device/Network/Interfaces/eth0/Type
    /Device/Network/Interfaces/eth0/Status
    /Device/Network/Interfaces/eth0/BytesSent
    /Device/Network/Interfaces/eth0/BytesReceived
    /Device/Network/Interfaces/eth0/Time
    /Device/Network/Interfaces/ppp0/Name
    /Device/Network/Interfaces/ppp0/Type
    /Device/Network/Interfaces/ppp0/Status
    /Device/Network/Interfaces/ppp0/BytesSent
    /Device/Network/Interfaces/ppp0/BytesReceived
    /Device/Network/Interfaces/ppp0/Time</pre>
<p>it can be thought of as describing two Value Space objects, <tt>{ /Device/Network/Interfaces/eth0, /Device/Network/Interfaces/ppp0 }</tt>, each with the six attributes <tt>{Name, Type, Status, BytesSent, BytesReceived, Time}</tt>. The QValueSpaceObject class encapsulates this abstraction.</p>
<p>In the case of two or more applications creating an application object with overlapping attributes, only the first is visible to observers in the system. The other attributes are not discarded, but are buffered until the first releases its hold on the attribute, either by manually removing it, destroying the QValueSpaceObject or by terminating. For example:</p>
<pre>    QValueSpaceObject * object1 = new QValueSpaceObject(&quot;/Device&quot;);
    object1-&gt;setAttribute(&quot;Buttons&quot;, 2);

<span class="comment">    // QValueSpaceItem(&quot;/Device/Buttons&quot;) == QVariant(2)</span>

    QValueSpaceObject * object2 = new QValueSpaceObject(&quot;/Device&quot;);
    object2-&gt;setAttribute(&quot;Buttons&quot;, 3);

<span class="comment">    // QValueSpaceItem(&quot;/Device/Buttons&quot;) == QVariant(2)</span>

    object2-&gt;removeAttribute(&quot;Buttons&quot;);
<span class="comment">    // QValueSpaceItem(&quot;/Device/Buttons&quot;) == QVariant(3)</span></pre>
<p>For performance reasons the setting of and removing of attributes is buffered internally by the QValueSpaceObject and applied as a batch sometime later. Normally this occurs the next time the application enters the Qt event loop, but this behaviour should not be relied apon. If an application must synchronize application objects with others, the <a href="qvaluespaceobject.html#sync">QValueSpaceObject::sync</a>() method can be used to force the application of changes. This call is generally unnecessary, and should be used sparingly to prevent unnecessary load on the system.</p>
<p><i>Note:</i> The QValueSpaceObject class is not thread safe and may only be used from an application's main thread.</p>
<p>See also <a href="qvaluespaceitem.html">QValueSpaceItem</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QValueSpaceObject"></a>QValueSpaceObject::QValueSpaceObject ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>objectPath</i>, <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Construct a Value Space object rooted at <i>objectPath</i> with the specified <i>parent</i>.</p>
<h3 class="fn"><a name="QValueSpaceObject-2"></a>QValueSpaceObject::QValueSpaceObject ( const char * <i>objectPath</i>, <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Construct a Value Space object rooted at <i>objectPath</i> with the specified <i>parent</i>. This constructor is equivalent to <tt>QValueSpaceObject(QByteArray(objectPath), parent)</tt>.</p>
<h3 class="fn"><a name="QValueSpaceObject-3"></a>QValueSpaceObject::QValueSpaceObject ( const <a href="qstring.html">QString</a> &amp; <i>objectPath</i>, <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Construct a Value Space object rooted at <i>objectPath</i> with the specified <i>parent</i>. This constructor is equivalent to <tt>QValueSpaceObject(objectPath.toUtf8(), parent)</tt>.</p>
<h3 class="fn"><a name="dtor.QValueSpaceObject"></a>QValueSpaceObject::~QValueSpaceObject ()</h3>
<p>Destroys the Value Space object. This will remove the object and all its attributes from the Value Space.</p>
<h3 class="fn"><a name="itemRemove"></a>void QValueSpaceObject::itemRemove ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>attribute</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted whenever a client requests that the <i>attribute</i> be removed through a call to <a href="qvaluespaceitem.html#remove">QValueSpaceItem::remove</a>(). The provider of this object may choose to honor, ignore or transform the remove request.</p>
<h3 class="fn"><a name="itemSetValue"></a>void QValueSpaceObject::itemSetValue ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>attribute</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>value</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted whenever a client requests that the <i>attribute</i> value be changed to <i>value</i> through a call to <a href="qvaluespaceitem.html#setValue">QValueSpaceItem::setValue</a>(). The provider of this object may chose to honor, ignore or transform the set value request.</p>
<h3 class="fn"><a name="objectPath"></a><a href="qstring.html">QString</a> QValueSpaceObject::objectPath () const</h3>
<p>Returns the full path to this object as passed to the <a href="qvaluespaceobject.html">QValueSpaceObject</a> constructor.</p>
<h3 class="fn"><a name="removeAttribute"></a>void QValueSpaceObject::removeAttribute ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>attribute</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Removes the object <i>attribute</i> and all sub-attributes from the system.</p>
<p>For example:</p>
<pre>    QValueSpaceObject object(&quot;/Device&quot;);
    object.setAttribute(&quot;State&quot;, &quot;Starting&quot;);
    object.setAttribute(&quot;State/Memory&quot;, &quot;1000&quot;);
    object.sync();
<span class="comment">    // QValueSpaceItem(&quot;/Device/State&quot;).value() == QVariant(&quot;Starting&quot;)</span>
<span class="comment">    // QValueSpaceItem(&quot;/Device/State/Memory&quot;).value() == QVariant(&quot;1000&quot;)</span>

    object.removeAttribute(&quot;State&quot;);
    object.sync();
<span class="comment">    // QValueSpaceItem(&quot;/Device/State&quot;).value() == QVariant();</span>
<span class="comment">    // QValueSpaceItem(&quot;/Device/State/Memory&quot;).value() == QVariant();</span></pre>
<h3 class="fn"><a name="removeAttribute-2"></a>void QValueSpaceObject::removeAttribute ( const <a href="qstring.html">QString</a> &amp; <i>attribute</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>This is a convenience overload and is equivalent to <tt>removeAttribute(attribute.toUtf8())</tt>.</p>
<h3 class="fn"><a name="removeAttribute-3"></a>void QValueSpaceObject::removeAttribute ( const char * <i>attribute</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>This is a convenience overload and is equivalent to <tt>removeAttribute(QByteArray(attribute))</tt>.</p>
<h3 class="fn"><a name="setAttribute"></a>void QValueSpaceObject::setAttribute ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>attribute</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>data</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Set an <i>attribute</i> on the object to <i>data</i>. If attribute is empty, this call will set the object's value.</p>
<p>For example:</p>
<pre>    QValueSpaceObject object(&quot;/Device&quot;);
    object.setAttribute(&quot;State&quot;, &quot;Starting&quot;);
    object.sync();

<span class="comment">    // QValueSpaceItem(&quot;/Device/State&quot;).value() == QVariant(&quot;Starting&quot;)</span></pre>
<h3 class="fn"><a name="setAttribute-2"></a>void QValueSpaceObject::setAttribute ( const char * <i>attribute</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>data</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>This is a convenience overload and is equivalent to <tt>setAttribute(QByteArray(attribute), data)</tt>.</p>
<h3 class="fn"><a name="setAttribute-3"></a>void QValueSpaceObject::setAttribute ( const <a href="qstring.html">QString</a> &amp; <i>attribute</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>data</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>This is a convenience overload and is equivalent to <tt>setAttribute(attribute.toUtf8(), data)</tt>.</p>
<h3 class="fn"><a name="sync"></a>void QValueSpaceObject::sync ()&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Forcibly sync all Value Space objects.</p>
<p>For performance reasons attribute changes are batched internally by <a href="qvaluespaceobject.html">QValueSpaceObject</a> instances. In cases where the visibility of changes must be synchronized with other processes, calling QValueSpaceObject::sync() will flush these batches. By the time sync() returns, all other processes in the system will be able to see the attribute changes.</p>
<p>In the common asynchronous case, calling sync() is unnecessary.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

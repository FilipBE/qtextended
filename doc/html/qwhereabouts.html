<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QWhereabouts Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">QWhereabouts Class Reference<br /><span class="small-subtitle">[<a href="qtlocationmodule.html">QtLocationModule</a>]</span>
</h1>
<p>The QWhereabouts class is a base class for providing regular updates about one's global position, and other related information, at a particular point in time. <a href="#details">More...</a></p>
<pre>    #include &lt;QWhereabouts&gt;</pre><p>Inherits <a href="qobject.html">QObject</a>.</p>
<p>Inherited by <a href="qnmeawhereabouts.html">QNmeaWhereabouts</a>.</p>
<ul>
<li><a href="qwhereabouts-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qwhereabouts.html#State-enum">State</a></b> { NotAvailable, Initializing, Available, PositionFixAcquired }</li>
<li><div class="fn"/>enum <b><a href="qwhereabouts.html#UpdateMethod-enum">UpdateMethod</a></b> { AssistedUpdate, NetworkBasedUpdate, TerminalBasedUpdate }</li>
<li><div class="fn"/>flags <b><a href="qwhereabouts.html#UpdateMethod-enum">UpdateMethods</a></b></li>
</ul>
<a name="properties"></a>
<h3>Properties</h3>
<ul>
<li><div class="fn"/><b><a href="qwhereabouts.html#updateInterval-prop">updateInterval</a></b> : int</li>
</ul>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qwhereabouts.html#QWhereabouts">QWhereabouts</a></b> ( UpdateMethods <i>updateMethods</i> = 0, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual <b><a href="qwhereabouts.html#dtor.QWhereabouts">~QWhereabouts</a></b> ()</li>
<li><div class="fn"/>QWhereaboutsUpdate <b><a href="qwhereabouts.html#lastUpdate">lastUpdate</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qwhereabouts.html#updateInterval-prop">setUpdateInterval</a></b> ( int <i>interval</i> )</li>
<li><div class="fn"/>State <b><a href="qwhereabouts.html#state">state</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qwhereabouts.html#updateInterval-prop">updateInterval</a></b> () const</li>
<li><div class="fn"/>UpdateMethods <b><a href="qwhereabouts.html#updateMethods">updateMethods</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h3>Public Slots</h3>
<ul>
<li><div class="fn"/>virtual void <b><a href="qwhereabouts.html#requestUpdate">requestUpdate</a></b> () = 0</li>
<li><div class="fn"/>virtual void <b><a href="qwhereabouts.html#startUpdates">startUpdates</a></b> () = 0</li>
<li><div class="fn"/>void <b><a href="qwhereabouts.html#startUpdates-2">startUpdates</a></b> ( int <i>msec</i> )</li>
<li><div class="fn"/>virtual void <b><a href="qwhereabouts.html#stopUpdates">stopUpdates</a></b> () = 0</li>
</ul>
<ul>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qwhereabouts.html#stateChanged">stateChanged</a></b> ( QWhereabouts::State <i>state</i> )</li>
<li><div class="fn"/>void <b><a href="qwhereabouts.html#updated">updated</a></b> ( const QWhereaboutsUpdate &amp; <i>update</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<a name="protected-functions"></a>
<h3>Protected Functions</h3>
<ul>
<li><div class="fn"/>void <b><a href="qwhereabouts.html#emitUpdated">emitUpdated</a></b> ( const QWhereaboutsUpdate &amp; <i>update</i> )</li>
<li><div class="fn"/>void <b><a href="qwhereabouts.html#setState">setState</a></b> ( State <i>state</i> )</li>
</ul>
<ul>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QWhereabouts class is a base class for providing regular updates about one's global position, and other related information, at a particular point in time.</p>
<p>Call <a href="qwhereaboutsfactory.html#create">QWhereaboutsFactory::create</a>() to get a QWhereabouts object, then call <a href="qwhereabouts.html#startUpdates">startUpdates</a>() or <a href="qwhereabouts.html#requestUpdate">requestUpdate</a>() to receive positional data through the <a href="qwhereabouts.html#updated">updated</a>() signal.</p>
<p>An example:</p>
<pre>    class SimpleLocationDemo : public QObject
    {
        Q_OBJECT
    public:
        SimpleLocationDemo(QObject *parent = 0)
            : QObject(parent)
        {
            QWhereabouts *whereabouts = QWhereaboutsFactory::create();
            connect(whereabouts, SIGNAL(updated(QWhereaboutsUpdate)),
                    SLOT(updated(QWhereaboutsUpdate)));

            whereabouts-&gt;startUpdates();
        }

    private slots:
        void updated(const QWhereaboutsUpdate &amp;update)
        {
            <span class="comment">// respond to update here</span>
        }
    };</pre>
<a name="subclassing-qwhereabouts"></a>
<h3>Subclassing QWhereabouts</h3>
<p>When <a href="qwhereabouts.html#startUpdates">startUpdates</a>() or <a href="qwhereabouts.html#requestUpdate">requestUpdate</a>() is first called, a QWhereabouts subclass instance should change state to <a href="qwhereabouts.html#State-enum">QWhereabouts::Initializing</a>. If initialization succeeds, the state should change to <a href="qwhereabouts.html#State-enum">QWhereabouts::Available</a>, and then to <a href="qwhereabouts.html#State-enum">QWhereabouts::PositionFixAcquired</a> once a position fix is acquired and updates are possible. Otherwise, if initialization fails, the state should return to <a href="qwhereabouts.html#State-enum">QWhereabouts::NotAvailable</a>.</p>
<p>Note that <a href="qwhereabouts.html#updated">updated</a>() should only be emitted while the state is <a href="qwhereabouts.html#State-enum">QWhereabouts::PositionFixAcquired</a>, and the provided update should always have valid date &amp; time and coordinate values. Receivers of the signal should be able to assume that the provided update is valid without additional verification.</p>
<p>Subclasses can call <a href="qwhereabouts.html#emitUpdated">emitUpdated</a>() to set the value of <a href="qwhereabouts.html#lastUpdate">lastUpdate</a>() and emit <a href="qwhereabouts.html#updated">updated</a>().</p>
<p>See also <a href="qwhereaboutsfactory.html">QWhereaboutsFactory</a>, <a href="qwhereaboutsplugin.html">QWhereaboutsPlugin</a>, and <a href="location.html">Location Services</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="State-enum"></a>enum QWhereabouts::State</h3>
<p>This enum defines the possible states for a whereabouts object.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QWhereabouts::NotAvailable</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Positional data cannot be retrieved. This is the default state.</td></tr>
<tr><td valign="top"><tt>QWhereabouts::Initializing</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The object is in the initialization stage. It will change to the Available state when it is successfully initialized.</td></tr>
<tr><td valign="top"><tt>QWhereabouts::Available</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">The object is able to receive position data, but it is not currently able to provide position updates as there is no position fix.</td></tr>
<tr><td valign="top"><tt>QWhereabouts::PositionFixAcquired</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">A position fix has been acquired and position updates can now be provided.</td></tr>
</table></p>
<h3 class="flags"><a name="UpdateMethod-enum"></a>enum QWhereabouts::UpdateMethod<br />flags QWhereabouts::UpdateMethods</h3>
<p>This enum defines the methods that may be used to calculate and retrieve the information to provide a <a href="qwhereaboutsupdate.html">QWhereaboutsUpdate</a>.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QWhereabouts::AssistedUpdate</tt></td><td align="center" valign="top"><tt>0x01</tt></td><td valign="top">Position data is calculated using assistance data from an AGPS module. (This is generally used to obtain faster and more accurate fixes.)</td></tr>
<tr><td valign="top"><tt>QWhereabouts::NetworkBasedUpdate</tt></td><td align="center" valign="top"><tt>0x02</tt></td><td valign="top">The position data is calculated by a remote server.</td></tr>
<tr><td valign="top"><tt>QWhereabouts::TerminalBasedUpdate</tt></td><td align="center" valign="top"><tt>0x04</tt></td><td valign="top">The position data is calculated by the terminal (i.e&#x2e; the mobile device).</td></tr>
</table></p>
<p>The UpdateMethods type is a typedef for <a href="qflags.html">QFlags</a>&lt;UpdateMethod&gt;. It stores an OR combination of UpdateMethod values.</p>
<hr />
<h2>Property Documentation</h2>
<h3 class="fn"><a name="updateInterval-prop"></a>updateInterval : int</h3>
<p>This property holds this property holds the interval between each update, in milliseconds.</p>
<p>If setUpdateInterval() is called after <a href="qwhereabouts.html#startUpdates">startUpdates</a>(), the interval change will not take effect until <a href="qwhereabouts.html#startUpdates">startUpdates</a>() is called again.</p>
<p>The default update interval is 0. An update interval of 0 means that <a href="qwhereabouts.html#updated">updated</a>() is emitted as soon as a valid update becomes available.</p>
<p>Access functions:</p>
<ul>
<li><div class="fn"/><b>int updateInterval () const</b></li>
<li><div class="fn"/><b>void setUpdateInterval ( int <i>interval</i> )</b></li>
</ul>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QWhereabouts"></a>QWhereabouts::QWhereabouts ( <a href="qwhereabouts.html#UpdateMethod-enum">UpdateMethods</a> <i>updateMethods</i> = 0, <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a whereabouts object with the given <i>updateMethods</i> and <i>parent</i>.</p>
<h3 class="fn"><a name="dtor.QWhereabouts"></a>QWhereabouts::~QWhereabouts ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Destroys the whereabouts object.</p>
<h3 class="fn"><a name="emitUpdated"></a>void QWhereabouts::emitUpdated ( const <a href="qwhereaboutsupdate.html">QWhereaboutsUpdate</a> &amp; <i>update</i> )&nbsp;&nbsp;<tt> [protected]</tt></h3>
<p>Sets the value of <a href="qwhereabouts.html#lastUpdate">lastUpdate</a>() to <i>update</i> and emits <a href="qwhereabouts.html#updated">updated</a>().</p>
<p>Note that <a href="qwhereabouts.html#updated">updated</a>() should only be emitted while the state is <a href="qwhereabouts.html#State-enum">QWhereabouts::PositionFixAcquired</a>, and the provided update should always have valid date/time and coordinate values. Receivers of the signal should be able to assume that the provided update is valid without additional verification.</p>
<h3 class="fn"><a name="lastUpdate"></a><a href="qwhereaboutsupdate.html">QWhereaboutsUpdate</a> QWhereabouts::lastUpdate () const</h3>
<p>Returns the last update that was emitted through <a href="qwhereabouts.html#updated">updated</a>(), or an invalid update if no updates have been emitted yet.</p>
<p>The returned update may contain out-of-date information if <a href="qwhereabouts.html#updated">updated</a>() has not been emitted for some time. Use <a href="qwhereabouts.html#requestUpdate">requestUpdate</a>() if you require fresh positional data.</p>
<p>See also <a href="qwhereabouts.html#startUpdates">startUpdates</a>() and <a href="qwhereabouts.html#emitUpdated">emitUpdated</a>().</p>
<h3 class="fn"><a name="requestUpdate"></a>void QWhereabouts::requestUpdate ()&nbsp;&nbsp;<tt> [pure virtual slot]</tt></h3>
<p>Requests that <a href="qwhereabouts.html#updated">updated</a>() be emitted with the current whereabouts if possible. This can be called regardless of whether <a href="qwhereabouts.html#startUpdates">startUpdates</a>() has already been called.</p>
<p>This is useful if you need to retrieve the current whereabouts but you do not need the periodic updates offered by <a href="qwhereabouts.html#startUpdates">startUpdates</a>().</p>
<p>If the state is currently <a href="qwhereabouts.html#State-enum">QWhereabouts::NotAvailable</a>, the object will first be initialized and will begin to provide updates once it is in the <a href="qwhereabouts.html#State-enum">QWhereabouts::PositionFixAcquired</a> state.</p>
<p>See also <a href="qwhereabouts.html#startUpdates">startUpdates</a>() and <a href="qwhereabouts.html#lastUpdate">lastUpdate</a>().</p>
<h3 class="fn"><a name="setState"></a>void QWhereabouts::setState ( <a href="qwhereabouts.html#State-enum">State</a> <i>state</i> )&nbsp;&nbsp;<tt> [protected]</tt></h3>
<p>Sets the current state to <i>state</i> and emits <a href="qwhereabouts.html#stateChanged">stateChanged</a>() if necessary.</p>
<p>See also <a href="qwhereabouts.html#state">state</a>().</p>
<h3 class="fn"><a name="startUpdates"></a>void QWhereabouts::startUpdates ()&nbsp;&nbsp;<tt> [pure virtual slot]</tt></h3>
<p>Starts emitting <a href="qwhereabouts.html#updated">updated</a>() with the interval specified by <a href="qwhereabouts.html#updateInterval-prop">updateInterval</a>(), or less frequently if updates are not available at a particular time. If <a href="qwhereabouts.html#updateInterval-prop">updateInterval</a>() is 0, <a href="qwhereabouts.html#updated">updated</a>() is emitted as soon as a valid update becomes available.</p>
<p>If startUpdates() has already been called, this restarts with <a href="qwhereabouts.html#updateInterval-prop">updateInterval</a>() as the new update interval.</p>
<p>If the state is currently <a href="qwhereabouts.html#State-enum">QWhereabouts::NotAvailable</a>, the object will first be initialized and will begin to provide updates once it is in the <a href="qwhereabouts.html#State-enum">QWhereabouts::PositionFixAcquired</a> state.</p>
<p>See also <a href="qwhereabouts.html#stopUpdates">stopUpdates</a>().</p>
<h3 class="fn"><a name="startUpdates-2"></a>void QWhereabouts::startUpdates ( int <i>msec</i> )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Starts providing updates with an update interval of <i>msec</i> milliseconds.</p>
<h3 class="fn"><a name="state"></a><a href="qwhereabouts.html#State-enum">State</a> QWhereabouts::state () const</h3>
<p>Returns the current state.</p>
<p>See also <a href="qwhereabouts.html#setState">setState</a>().</p>
<h3 class="fn"><a name="stateChanged"></a>void QWhereabouts::stateChanged ( <a href="qwhereabouts.html#State-enum">QWhereabouts::State</a> <i>state</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the whereabouts object's state changes to <i>state</i>.</p>
<p>See also <a href="qwhereabouts.html#setState">setState</a>().</p>
<h3 class="fn"><a name="stopUpdates"></a>void QWhereabouts::stopUpdates ()&nbsp;&nbsp;<tt> [pure virtual slot]</tt></h3>
<p>Stops emitting <a href="qwhereabouts.html#updated">updated</a>() at regular intervals.</p>
<p>See also <a href="qwhereabouts.html#startUpdates">startUpdates</a>().</p>
<h3 class="fn"><a name="updateMethods"></a><a href="qwhereabouts.html#UpdateMethod-enum">UpdateMethods</a> QWhereabouts::updateMethods () const</h3>
<p>Returns the methods that this whereabouts object uses to retrieve positional data.</p>
<h3 class="fn"><a name="updated"></a>void QWhereabouts::updated ( const <a href="qwhereaboutsupdate.html">QWhereaboutsUpdate</a> &amp; <i>update</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted to notify recipients of a newly available <i>update</i>.</p>
<p>See also <a href="qwhereabouts.html#startUpdates">startUpdates</a>(), <a href="qwhereabouts.html#stopUpdates">stopUpdates</a>(), and <a href="qwhereabouts.html#requestUpdate">requestUpdate</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>

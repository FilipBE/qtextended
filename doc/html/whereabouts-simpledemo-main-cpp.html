<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>main.cpp Example File (whereabouts/simpledemo/main.cpp)</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="namespaces.html"><font color="#004faf">All&nbsp;Namespaces</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="center"><img src="images/codeless.png" border="0" alt="codeless banner"></td></tr></table><h1 class="title">main.cpp Example File<br /><span class="small-subtitle">whereabouts/simpledemo/main.cpp</span>
</h1>
<pre><span class="comment">    /****************************************************************************
    **
    ** This file is part of the Qt Extended Opensource Package.
    **
    ** Copyright (C) 2009 Trolltech ASA.
    **
    ** $QT_EXTENDED_DUAL_LICENSE$
    **
    ****************************************************************************/</span>

    #include &lt;QWhereabouts&gt;
    #include &lt;QWhereaboutsFactory&gt;

    #include &lt;QtopiaApplication&gt;

<span class="comment">    /*
        This is a simple example of how to use QWhereabouts.

        This example calls QWhereaboutsFactory::create() without any arguments,
        indicating that the default whereabouts plugin should be used for
        retrieving location data. Therefore, this example will only be able to
        get location data if the default plugin's data source has been set up
        correctly.

        For most Qtopia device configurations, the default whereabouts plugin
        is set to the built-in plugin, &quot;gpsd&quot;, which receives location data from
        a GPSd daemon (see http://gpsd.berlios.de), so the daemon must be running
        in order to use this plugin. The default plugin can be set through the
        &quot;Plugins/Default&quot; value in \c etc/Settings/Trolltech/Whereabouts.conf.

        See the Location Services documentation and the QWhereaboutsFactory class
        documentation for more details.
    */</span>

    class SimpleLocationDemo : public QObject
    {
        Q_OBJECT
    public:
        SimpleLocationDemo(QObject *parent = 0)
            : QObject(parent)
        {
            QWhereabouts *whereabouts = QWhereaboutsFactory::create();
            connect(whereabouts, SIGNAL(updated(QWhereaboutsUpdate)),
                    SLOT(updated(QWhereaboutsUpdate)));

            whereabouts-&gt;startUpdates();
        }

    private slots:
        void updated(const QWhereaboutsUpdate &amp;update)
        {
            <span class="comment">// respond to update here</span>
        }
    };

    int main(int argc, char **argv)
    {
        QtopiaApplication app(argc, argv);

        SimpleLocationDemo demo;

        return app.exec();
    }

    #include &quot;main.moc&quot;</pre>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.3</div></td>
</tr></table></div></address></body>
</html>
